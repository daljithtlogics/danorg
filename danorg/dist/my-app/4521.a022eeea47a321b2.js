"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[4521],{4521:(F,m,o)=>{o.r(m),o.d(m,{ProductDetailsModule:()=>I});var p=o(6895),l=o(433),g=o(1066),v=o(3293),t=o(4650),h=o(8227),_=o(7185),f=o(5506);function b(i,r){if(1&i&&(t.TgZ(0,"div",41),t._UZ(1,"img",42),t.qZA()),2&i){const e=r.$implicit;t.ekj("active",0===r.index),t.xp6(1),t.s9C("src",e.source,t.LSH),t.s9C("alt",e.name)}}function T(i,r){if(1&i&&(t.TgZ(0,"button",43),t._UZ(1,"img",44),t.qZA()),2&i){const e=r.$implicit,n=r.index;t.ekj("active",0===n),t.uIk("data-bs-slide-to",n)("aria-label","Slide "+(n+1)),t.xp6(1),t.s9C("src",e.source,t.LSH),t.s9C("alt",e.name)}}const Z=function(i){return["/danshop/category",i]};function y(i,r){if(1&i&&(t.TgZ(0,"a",2),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("routerLink",t.VKq(2,Z,e.slug)),t.xp6(1),t.hij("",e.name," ")}}function A(i,r){1&i&&(t.TgZ(0,"li"),t._uU(1,"Availability: OUT OF STOCK"),t.qZA())}function C(i,r){1&i&&(t.TgZ(0,"li"),t._uU(1,"Availability: IN STOCK"),t.qZA())}function q(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"ins"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"small"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.AsE("",e.selectedVariant.currencyCode," ",t.xi3(3,4,e.selectedVariant.priceWithTax/100,"1.2-2"),""),t.xp6(3),t.AsE("Ex Tax:",e.selectedVariant.currencyCode," ",t.xi3(6,7,e.selectedVariant.price/100,"1.2-2"),"")}}function x(i,r){1&i&&(t.ynx(0),t._uU(1," N/A "),t.BQk())}function O(i,r){if(1&i&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.Oqu(e.name)}}function k(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",45)(1,"label",46),t._uU(2," Select Variant "),t.qZA(),t.TgZ(3,"select",47),t.NdJ("ngModelChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.selectedVariant=a)}),t.YNc(4,O,2,2,"option",48),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.selectedVariant),t.xp6(1),t.Q6J("ngForOf",null==e.product?null:e.product.variants)}}function D(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addToCart((null==a.selectedVariant?null:a.selectedVariant.id)||0,a.quantity))}),t._uU(1,"Add to cart"),t.qZA()}if(2&i){const e=t.oxw();t.uIk("data-productId",e.product.id)("data-productName",e.product.name)("data-variant",95)("data-productPrice",e.product.variants[0].price)}}function V(i,r){if(1&i&&(t.TgZ(0,"button",51),t._uU(1,"Out of stock"),t.qZA()),2&i){const e=t.oxw();t.uIk("data-productId",e.product.id)("data-productName",e.product.name)}}const P=function(){return["/danshop"]},S=v.Ps`
  query GetProduct($slug: String) {
    product(slug: $slug) {   
      id
      slug
      name
      description
      featuredAsset {
        source
      }
      assets {
        id
        name
        preview
        source
        height
        width
      }
      variants {
        id
        name
        price
        priceWithTax
        options {
          code
          name
        }
        price
        priceWithTax
        sku
        stockLevel
		currencyCode
      }
      collections {
        id
		name
        slug
        breadcrumbs {
          id
          name
          slug
        }
      }     
    }  
  }
`,J=[{path:"",component:(()=>{class i{constructor(e,n,a,c,s,u){this.apollo=e,this._Activatedroute=n,this.cartService=a,this.toastrService=c,this.stateService=s,this.cdr=u,this.product={id:1,slug:"",name:"",price:10,collections:[{id:0,name:"",slug:""}],featuredAsset:{source:"/assets/images/no_photo_available.jpg"},assets:[{id:1,name:"",preview:"",source:"",height:0,width:0}],description:"",variants:[{id:0,name:"",price:1,sku:"",stockLevel:"",priceWithTax:0,currencyCode:""}]},this.selectedVariant=null,this.quantity=1,this.cart=[],this.subtotal=0,this.inFlight=!1,this.id=this._Activatedroute.snapshot.params.id,this.quantity=1,this.getData(),this.cartService.getActiveOrder().subscribe(d=>{this.cartService.updateActiveOrder(d)}),this.cartService.activeOrder$.subscribe(d=>{this.activeOrder=d,console.log("Order:",d)})}getData(){this.apollo.watchQuery({query:S,variables:{slug:this.id}}).valueChanges.subscribe(({data:e})=>{this.product=e.product,this.selectedVariant=this.product.variants[0],console.log(this.product)})}increaseQuant(e){e.preventDefault(),console.log("test"),this.quantity=this.quantity+1}dencreaseQuant(e){e.preventDefault(),this.quantity>1&&(this.quantity=this.quantity-1)}addToCart(e,n){this.inFlight=!0,this.cartService.addItemToOrder(e,n).subscribe(s=>{if(this.inFlight=!1,"id"in s&&s.id){const u=s;this.stateService.setState("activeOrderId",u?u.id:null),e&&(console.log(u,u.id+" Success"),this.cartService.getActiveOrder().subscribe(d=>{this.cartService.updateActiveOrder(d)}),this.toastrService.success("Product Added to Cart","Success!"))}else this.toastrService.error(s.message,"Error!")},s=>{console.error("API Error:",s)})}ngOnInit(){this.cartService.getActiveOrder().subscribe(e=>{this.activeOrder=e,console.log("Order Header:",e)},e=>{console.error("API Error:",e)},()=>{})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(v._M),t.Y36(g.gz),t.Y36(h.N),t.Y36(_._W),t.Y36(f.b),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-details"]],decls:67,vars:18,consts:[[1,"breadcrumb"],[1,"container"],[3,"routerLink"],["aria-hidden","true",1,"fa","fa-home"],[1,"mid-inner"],[1,"row"],[1,"col-sm-12","full-wrap"],[1,"product-single"],[1,"col-sm-6","left"],["id","carouselExampleDark",1,"carousel","carousel-dark","slide"],[1,"carousel-inner"],["class","carousel-item","data-bs-interval","2000",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleDark","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleDark","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleDark","aria-current","true","style","max-width: 77px;",3,"active",4,"ngFor","ngForOf"],[1,"col-sm-6","right"],[1,"list-unstyled"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"ngIf"],[1,"price"],[4,"ngIf"],["class","mt-4 selected-variant",4,"ngIf"],[1,"cart","quantity"],[1,"quantity-input"],["type","button","value","-","field","quantity",1,"qtyminus","minus",3,"click"],["type","number","name","quantity",1,"qty",3,"ngModel","ngModelChange"],["type","button","value","+",1,"qtyplus","plus",3,"click"],["||","",3,"ngIf"],[1,"col-sm-12","full-area"],["id","pills-tab","role","tablist",1,"nav","nav-pills"],["role","presentation",1,"nav-item"],["id","pills-description-tab","data-bs-toggle","pill","data-bs-target","#pills-description","type","button","role","tab","aria-controls","pills-description","aria-selected","true",1,"nav-link","active"],["id","pills-reviews-tab","data-bs-toggle","pill","data-bs-target","#pills-reviews","type","button","role","tab","aria-controls","pills-reviews","aria-selected","false",1,"nav-link"],["id","pills-tabContent",1,"tab-content"],["id","pills-description","role","tabpanel","aria-labelledby","pills-description-tab","tabindex","0",1,"tab-pane","fade","show","active"],[3,"innerHTML"],["id","pills-reviews","role","tabpanel","aria-labelledby","pills-reviews-tab","tabindex","0",1,"tab-pane","fade"],["data-bs-interval","2000",1,"carousel-item"],[1,"",3,"src","alt"],["type","button","data-bs-target","#carouselExampleDark","aria-current","true",2,"max-width","77px"],[1,"d-block","w-100",3,"src","alt"],[1,"mt-4","selected-variant"],["htmlFor","option",1,"selected-variant-option-label","block"],[1,"selected-variant-option",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["type","submit","name","add-to-cart","value","838",1,"btn",3,"click"],["type","submit","name","add-to-cart","value","838","disabled","",1,"btn"]],template:function(n,a){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"ul")(3,"li")(4,"a",2),t._UZ(5,"i",3),t._uU(6,"Home "),t.qZA()(),t.TgZ(7,"li"),t._uU(8,"Product"),t.qZA()()()(),t.TgZ(9,"section",4)(10,"div",1)(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",5)(15,"div",8)(16,"div",9)(17,"div",10),t.YNc(18,b,2,4,"div",11),t.TgZ(19,"button",12),t._UZ(20,"span",13),t.TgZ(21,"span",14),t._uU(22,"Previous"),t.qZA()(),t.TgZ(23,"button",15),t._UZ(24,"span",16),t.TgZ(25,"span",14),t._uU(26,"Next"),t.qZA()()(),t.TgZ(27,"div",17),t.YNc(28,T,2,6,"button",18),t.qZA()()(),t.TgZ(29,"div",19)(30,"h2"),t._uU(31),t.qZA(),t.TgZ(32,"ul",20)(33,"li"),t._uU(34,"Category: "),t.YNc(35,y,2,4,"a",21),t.qZA(),t.TgZ(36,"li"),t._uU(37),t.qZA(),t.YNc(38,A,2,0,"ng-template",22),t.YNc(39,C,2,0,"ng-template",22),t.qZA(),t.TgZ(40,"p",23),t.YNc(41,q,7,10,"ng-container",24),t.YNc(42,x,2,0,"ng-container",24),t.qZA(),t.YNc(43,k,5,2,"div",25),t.TgZ(44,"div",26)(45,"div",27)(46,"input",28),t.NdJ("click",function(s){return a.dencreaseQuant(s)}),t.qZA(),t.TgZ(47,"input",29),t.NdJ("ngModelChange",function(s){return a.quantity=s}),t.qZA(),t.TgZ(48,"input",30),t.NdJ("click",function(s){return a.increaseQuant(s)}),t.qZA()(),t.YNc(49,D,2,4,"ng-template",31),t.YNc(50,V,2,2,"ng-template",22),t.qZA()(),t.TgZ(51,"div",32)(52,"ul",33)(53,"li",34)(54,"button",35),t._uU(55,"Description"),t.qZA()(),t.TgZ(56,"li",34)(57,"button",36),t._uU(58,"Reviews (0)"),t.qZA()()(),t.TgZ(59,"div",37)(60,"div",38)(61,"h3"),t._uU(62),t.qZA(),t._UZ(63,"div",39),t.qZA(),t.TgZ(64,"div",40)(65,"p"),t._uU(66,"There are no reviews for this product. ."),t.qZA()()()()()()()()()()),2&n&&(t.xp6(4),t.Q6J("routerLink",t.DdM(17,P)),t.xp6(14),t.Q6J("ngForOf",a.product.assets),t.xp6(10),t.Q6J("ngForOf",a.product.assets),t.xp6(3),t.Oqu(null==a.selectedVariant?null:a.selectedVariant.name),t.xp6(4),t.Q6J("ngForOf",a.product.collections),t.xp6(2),t.hij("Product Code: ",null==a.selectedVariant?null:a.selectedVariant.sku,""),t.xp6(1),t.Q6J("ngIf","OUT_OF_STOCK"===(null==a.selectedVariant?null:a.selectedVariant.stockLevel)),t.xp6(1),t.Q6J("ngIf","IN_STOCK"===(null==a.selectedVariant?null:a.selectedVariant.stockLevel)),t.xp6(2),t.Q6J("ngIf",a.selectedVariant),t.xp6(1),t.Q6J("ngIf",!a.selectedVariant),t.xp6(1),t.Q6J("ngIf",a.product.variants.length>1),t.xp6(4),t.Q6J("ngModel",a.quantity),t.xp6(2),t.Q6J("ngIf","IN_STOCK"===(null==a.selectedVariant?null:a.selectedVariant.stockLevel))("ngIf","LOW_STOCK"===(null==a.selectedVariant?null:a.selectedVariant.stockLevel)),t.xp6(1),t.Q6J("ngIf","OUT_OF_STOCK"===(null==a.selectedVariant?null:a.selectedVariant.stockLevel)),t.xp6(12),t.Oqu(a.product.name),t.xp6(1),t.Q6J("innerHTML",a.product.description,t.oJD))},dependencies:[p.sg,p.O5,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.On,g.rH,p.JJ]})}return i})()}];let U=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(J),g.Bz]})}return i})(),I=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[p.ez,U,l.u5]})}return i})()}}]);