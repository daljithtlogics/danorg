"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[2815],{2815:(q,m,c)=>{c.r(m),c.d(m,{AllproductsModule:()=>k});var l=c(6895),s=c(1066),_=c(3293),t=c(4650),x=c(8227),v=c(7185),h=c(5506),A=c(9603),f=c(5211);function T(i,r){if(1&i&&(t.TgZ(0,"p",27)(1,"ins"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"small"),t._uU(5),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij("ZAR ",t.xi3(3,2,e.priceWithTax.value/100,"1.2-2"),""),t.xp6(3),t.hij("Ex Tax: ZAR ",t.xi3(6,5,e.price.value/100,"1.2-2"),"")}}function Z(i,r){if(1&i&&(t.TgZ(0,"p",27)(1,"ins"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"small"),t._uU(5),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij("ZAR ",t.xi3(3,2,e.priceWithTax.min/100,"1.2-2"),""),t.xp6(3),t.hij("Ex Tax: ZAR ",t.xi3(6,5,e.price.min/100,"1.2-2"),"")}}function I(i,r){if(1&i&&(t.TgZ(0,"p",27)(1,"ins"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"small"),t._uU(5),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij("ZAR ",t.xi3(3,2,e.priceWithTax.min/100,"1.2-2"),""),t.xp6(3),t.hij("Ex Tax: ZAR ",t.xi3(6,5,e.price.min/100,"1.2-2"),"")}}function y(i,r){1&i&&(t.TgZ(0,"p",27)(1,"ins"),t._uU(2,"Out of stock"),t.qZA()())}function C(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.addToCart(n.productVariantId,1))}),t.ALo(1,"replace"),t._UZ(2,"i",30),t.ALo(3,"replace"),t.qZA()}if(2&i){const e=t.oxw(2).$implicit;t.uIk("data-productId",e.productId)("data-productName",e.productName)("data-productPrice",t.lcZ(1,6,e.priceWithTax.min/100)),t.xp6(2),t.uIk("data-productId",e.productId)("data-productName",e.productName)("data-productPrice",t.lcZ(3,8,e.priceWithTax.min/100))}}function N(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.navigateToRoute(n.slug))}),t.ALo(1,"replace"),t._UZ(2,"i",30),t.ALo(3,"replace"),t.qZA()}if(2&i){const e=t.oxw(2).$implicit;t.uIk("data-productId",e.productId)("data-productName",e.productName)("data-productPrice",t.lcZ(1,7,e.priceWithTax.min/100))("data-productSlug",e.slug),t.xp6(2),t.uIk("data-productId",e.productId)("data-productName",e.productName)("data-productPrice",t.lcZ(3,9,e.priceWithTax.min/100))}}function P(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.navigateToRoute(n.slug))}),t.ALo(1,"replace"),t._UZ(2,"i",30),t.ALo(3,"replace"),t.qZA()}if(2&i){const e=t.oxw(2).$implicit;t.uIk("data-productId",e.productId)("data-productName",e.productName)("data-productPrice",t.lcZ(1,7,e.priceWithTax.min/100))("data-productSlug",e.slug),t.xp6(2),t.uIk("data-productId",e.productId)("data-productName",e.productName)("data-productPrice",t.lcZ(3,9,e.priceWithTax.min/100))}}function S(i,r){if(1&i&&(t.YNc(0,C,4,10,"ng-template",21),t.YNc(1,N,4,11,"ng-template",22),t.YNc(2,P,4,11,"ng-template",null,28,t.W1O)),2&i){const e=t.MAs(3),o=t.oxw().$implicit;t.Q6J("ngIf","SinglePrice"===o.priceWithTax.__typename),t.xp6(1),t.Q6J("ngIf",o.priceWithTax.min===o.priceWithTax.max)("ngIfElse",e)}}const g=function(i){return["/danshop/product-details/",i]};function w(i,r){if(1&i&&(t.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"a",2),t._UZ(4,"img",17),t.qZA()(),t.TgZ(5,"div",18)(6,"h4",19)(7,"a",20),t._uU(8),t.qZA()(),t.TgZ(9,"p"),t._uU(10),t.ALo(11,"slice"),t.ALo(12,"removeHtmlTags"),t.qZA(),t.YNc(13,T,7,8,"ng-template",21),t.YNc(14,Z,7,8,"ng-template",22),t.YNc(15,I,7,8,"ng-template",null,23,t.W1O),t.YNc(17,y,3,0,"ng-template",21),t.TgZ(18,"div",24),t.YNc(19,S,4,3,"ng-template",21),t.TgZ(20,"button",25),t._UZ(21,"i",26),t.qZA()()()()()),2&i){const e=r.$implicit,o=t.MAs(16);t.xp6(3),t.Q6J("routerLink",t.VKq(16,g,e.slug)),t.xp6(1),t.s9C("src",e.productAsset.preview,t.LSH),t.xp6(3),t.Q6J("routerLink",t.VKq(18,g,e.slug)),t.xp6(1),t.Oqu(e.productName),t.xp6(2),t.hij("",t.Dn7(11,10,t.lcZ(12,14,e.description),0,100),"..."),t.xp6(3),t.Q6J("ngIf","SinglePrice"===e.priceWithTax.__typename),t.xp6(1),t.Q6J("ngIf",e.priceWithTax.min===e.priceWithTax.max)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",0==e.inStock),t.xp6(2),t.Q6J("ngIf",1==e.inStock)}}function U(i,r){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,w,22,20,"div",13),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.allProducts)}}const J=function(){return["/danshop"]},L=_.Ps`
	query GetProducts{
	  search(input: { groupByProduct: true, take: 100 }) {
		items {
			productId
			slug
			productName
			description
			inStock
			currencyCode
			productVariantId
			productVariantName
			price {
				... on PriceRange {
					min
					max
					__typename
				}
				__typename
				... on SinglePrice {
					value
					__typename
				}
			  }
			  priceWithTax {
				... on PriceRange {
					min
					max
					__typename
				}
				__typename
					... on SinglePrice {
					value
				  __typename
				}	
			  }
			productAsset {
				id
				preview
				focalPoint {
					x
					y
					__typename
				}
				__typename
			}
			__typename
		}
		totalItems
		facetValues {
			count
			facetValue {
				id
				name
				facet {
					id
					name
					__typename
				}
				__typename
			}
			__typename
		}
		__typename
	  }
	}
`,W=[{path:"",component:(()=>{class i{constructor(e,o,n,a,p,d,u){this.apollo=e,this.cartService=o,this.toastrService=n,this.decimalPipe=a,this.route=p,this.router=d,this.stateService=u,this.allProducts=[],this.product={id:1,name:"Product 1",price:10}}ngOnInit(){this.apollo.watchQuery({query:L}).valueChanges.subscribe(({data:e})=>{this.allProducts=e.search.items,console.log(this.allProducts)})}navigateToRoute(e){this.router.navigate(["/danshop/product-details",e])}removeComma(e){return e.replace(",","")}addToCart(e,o){this.cartService.addItemToOrder(e,o).subscribe(p=>{if("id"in p&&p.id){const d=p;this.stateService.setState("activeOrderId",d?d.id:null),e&&(console.log(d,d.id+" Success"),this.cartService.getActiveOrder().subscribe(u=>{this.cartService.updateActiveOrder(u)}),this.toastrService.success("Product Added to Cart","Success!"))}else this.toastrService.error(p.message,"Error!")},p=>{console.error("API Error:",p)})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(_._M),t.Y36(x.N),t.Y36(v._W),t.Y36(l.JJ),t.Y36(s.gz),t.Y36(s.F0),t.Y36(h.b))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-allproducts"]],decls:31,vars:3,consts:[[1,"breadcrumb"],[1,"container"],[3,"routerLink"],["aria-hidden","true",1,"fa","fa-home"],[1,"mid-inner"],[1,"row"],[1,"col-sm-12","full-wrap"],[1,"products-wrap"],["class","row",4,"ngIf"],[1,"tag-wrap"],[1,"col-sm-12"],[1,"inner"],["href","#",1,"btn"],["class","col-sm-3 pw-coll",4,"ngFor","ngForOf"],[1,"col-sm-3","pw-coll"],[1,"item"],[1,"image"],["alt","","width","100%",3,"src"],[1,"caption"],[2,"min-height","39px"],[1,"woocommerce-LoopProduct-link",3,"routerLink"],[3,"ngIf"],[3,"ngIf","ngIfElse"],["range",""],[1,"button-group"],["type","button","data-toggle","tooltip","title","Add to Wish List"],["aria-hidden","true",1,"fa","fa-heart"],[1,"price"],["range2",""],["type","button","data-toggle","tooltip","title","Add to Cart",3,"click"],["aria-hidden","true",1,"fa","fa-shopping-cart"]],template:function(o,n){1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"ul")(3,"li")(4,"a",2),t._UZ(5,"i",3),t._uU(6,"Home "),t.qZA()(),t.TgZ(7,"li"),t._uU(8,"All Products"),t.qZA()()()(),t.TgZ(9,"section",4)(10,"div",1)(11,"div",5)(12,"div",6)(13,"div",7),t.YNc(14,U,2,1,"div",8),t.qZA()()()()(),t.TgZ(15,"section",9)(16,"div",1)(17,"div",5)(18,"div",10)(19,"div",11)(20,"h2"),t._uU(21,"DAN Shop Emergency Hotline "),t.TgZ(22,"span"),t._uU(23,"Call for Assistance"),t.qZA()(),t.TgZ(24,"p"),t._uU(25,"DAN's Emergency Hotline staff members are on call 24 hours a day, 365 days a year, to provide information, assist with care coordination and evacuation assistance."),t.qZA(),t.TgZ(26,"h2"),t._uU(27,"27 11 266 4900"),t.qZA(),t.TgZ(28,"p")(29,"a",12),t._uU(30,"Shop Now"),t.qZA()()()()()()()),2&o&&(t.xp6(4),t.Q6J("routerLink",t.DdM(2,J)),t.xp6(10),t.Q6J("ngIf",n.allProducts))},dependencies:[l.sg,l.O5,s.rH,l.OU,l.JJ,A.$,f.A]})}return i})()}];let b=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[s.Bz.forChild(W),s.Bz]})}return i})(),k=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({providers:[l.JJ],imports:[l.ez,b]})}return i})()}}]);