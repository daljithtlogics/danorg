import { SetMainNavExpandedDocument } from '../../common/generated-types';
import { GET_NEWTORK_STATUS, GET_UI_STATE, GET_USER_STATUS, REQUEST_COMPLETED, REQUEST_STARTED, SET_ACTIVE_CHANNEL, SET_AS_LOGGED_IN, SET_AS_LOGGED_OUT, SET_CONTENT_LANGUAGE, SET_DISPLAY_UI_EXTENSION_POINTS, SET_UI_LANGUAGE_AND_LOCALE, SET_UI_LOCALE, SET_UI_THEME, UPDATE_USER_CHANNELS, } from '../definitions/client-definitions';
/**
 * Note: local queries all have a fetch-policy of "cache-first" explicitly specified due to:
 * https://github.com/apollographql/apollo-link-state/issues/236
 */
export class ClientDataService {
    constructor(baseDataService) {
        this.baseDataService = baseDataService;
    }
    startRequest() {
        return this.baseDataService.mutate(REQUEST_STARTED);
    }
    completeRequest() {
        return this.baseDataService.mutate(REQUEST_COMPLETED);
    }
    getNetworkStatus() {
        return this.baseDataService.query(GET_NEWTORK_STATUS, {}, 'cache-first');
    }
    loginSuccess(administratorId, username, activeChannelId, channels) {
        return this.baseDataService.mutate(SET_AS_LOGGED_IN, {
            input: {
                administratorId,
                username,
                loginTime: Date.now().toString(),
                activeChannelId,
                channels,
            },
        });
    }
    logOut() {
        return this.baseDataService.mutate(SET_AS_LOGGED_OUT);
    }
    userStatus() {
        return this.baseDataService.query(GET_USER_STATUS, {}, 'cache-first');
    }
    uiState() {
        return this.baseDataService.query(GET_UI_STATE, {}, 'cache-first');
    }
    setUiLanguage(languageCode, locale) {
        return this.baseDataService.mutate(SET_UI_LANGUAGE_AND_LOCALE, {
            languageCode,
            locale,
        });
    }
    setUiLocale(locale) {
        return this.baseDataService.mutate(SET_UI_LOCALE, {
            locale,
        });
    }
    setContentLanguage(languageCode) {
        return this.baseDataService.mutate(SET_CONTENT_LANGUAGE, {
            languageCode,
        });
    }
    setUiTheme(theme) {
        return this.baseDataService.mutate(SET_UI_THEME, {
            theme,
        });
    }
    setDisplayUiExtensionPoints(display) {
        return this.baseDataService.mutate(SET_DISPLAY_UI_EXTENSION_POINTS, {
            display,
        });
    }
    setMainNavExpanded(expanded) {
        return this.baseDataService.mutate(SetMainNavExpandedDocument, {
            expanded,
        });
    }
    setActiveChannel(channelId) {
        return this.baseDataService.mutate(SET_ACTIVE_CHANNEL, {
            channelId,
        });
    }
    updateUserChannels(channels) {
        return this.baseDataService.mutate(UPDATE_USER_CHANNELS, {
            channels,
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50LWRhdGEuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29yZS9zcmMvZGF0YS9wcm92aWRlcnMvY2xpZW50LWRhdGEuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQW9DLDBCQUEwQixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDNUcsT0FBTyxFQUNILGtCQUFrQixFQUNsQixZQUFZLEVBQ1osZUFBZSxFQUNmLGlCQUFpQixFQUNqQixlQUFlLEVBQ2Ysa0JBQWtCLEVBQ2xCLGdCQUFnQixFQUNoQixpQkFBaUIsRUFDakIsb0JBQW9CLEVBQ3BCLCtCQUErQixFQUMvQiwwQkFBMEIsRUFDMUIsYUFBYSxFQUNiLFlBQVksRUFDWixvQkFBb0IsR0FDdkIsTUFBTSxtQ0FBbUMsQ0FBQztBQUkzQzs7O0dBR0c7QUFDSCxNQUFNLE9BQU8saUJBQWlCO0lBQzFCLFlBQW9CLGVBQWdDO1FBQWhDLG9CQUFlLEdBQWYsZUFBZSxDQUFpQjtJQUFHLENBQUM7SUFFeEQsWUFBWTtRQUNSLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQWlDLGVBQWUsQ0FBQyxDQUFDO0lBQ3hGLENBQUM7SUFFRCxlQUFlO1FBQ1gsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBbUMsaUJBQWlCLENBQUMsQ0FBQztJQUM1RixDQUFDO0lBRUQsZ0JBQWdCO1FBQ1osT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FDN0Isa0JBQWtCLEVBQ2xCLEVBQUUsRUFDRixhQUFhLENBQ2hCLENBQUM7SUFDTixDQUFDO0lBRUQsWUFBWSxDQUNSLGVBQXVCLEVBQ3ZCLFFBQWdCLEVBQ2hCLGVBQXVCLEVBQ3ZCLFFBQThCO1FBRTlCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBR2hDLGdCQUFnQixFQUFFO1lBQ2hCLEtBQUssRUFBRTtnQkFDSCxlQUFlO2dCQUNmLFFBQVE7Z0JBQ1IsU0FBUyxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLEVBQUU7Z0JBQ2hDLGVBQWU7Z0JBQ2YsUUFBUTthQUNYO1NBQ0osQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELE1BQU07UUFDRixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVELFVBQVU7UUFDTixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUE2QixlQUFlLEVBQUUsRUFBRSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3RHLENBQUM7SUFFRCxPQUFPO1FBQ0gsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBMEIsWUFBWSxFQUFFLEVBQUUsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUNoRyxDQUFDO0lBRUQsYUFBYSxDQUFDLFlBQTBCLEVBQUUsTUFBZTtRQUNyRCxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUdoQywwQkFBMEIsRUFBRTtZQUMxQixZQUFZO1lBQ1osTUFBTTtTQUNULENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxXQUFXLENBQUMsTUFBMEI7UUFDbEMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FDOUIsYUFBYSxFQUNiO1lBQ0ksTUFBTTtTQUNULENBQ0osQ0FBQztJQUNOLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxZQUEwQjtRQUN6QyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUdoQyxvQkFBb0IsRUFBRTtZQUNwQixZQUFZO1NBQ2YsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELFVBQVUsQ0FBQyxLQUFhO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQzlCLFlBQVksRUFDWjtZQUNJLEtBQUs7U0FDUixDQUNKLENBQUM7SUFDTixDQUFDO0lBRUQsMkJBQTJCLENBQUMsT0FBZ0I7UUFDeEMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FHaEMsK0JBQStCLEVBQUU7WUFDL0IsT0FBTztTQUNWLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxRQUFpQjtRQUNoQyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLDBCQUEwQixFQUFFO1lBQzNELFFBQVE7U0FDWCxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsU0FBaUI7UUFDOUIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FHaEMsa0JBQWtCLEVBQUU7WUFDbEIsU0FBUztTQUNaLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxRQUEyQztRQUMxRCxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUdoQyxvQkFBb0IsRUFBRTtZQUNwQixRQUFRO1NBQ1gsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ29kZWdlbiBmcm9tICcuLi8uLi9jb21tb24vZ2VuZXJhdGVkLXR5cGVzJztcclxuaW1wb3J0IHsgQ3VycmVudFVzZXJDaGFubmVsLCBMYW5ndWFnZUNvZGUsIFNldE1haW5OYXZFeHBhbmRlZERvY3VtZW50IH0gZnJvbSAnLi4vLi4vY29tbW9uL2dlbmVyYXRlZC10eXBlcyc7XHJcbmltcG9ydCB7XHJcbiAgICBHRVRfTkVXVE9SS19TVEFUVVMsXHJcbiAgICBHRVRfVUlfU1RBVEUsXHJcbiAgICBHRVRfVVNFUl9TVEFUVVMsXHJcbiAgICBSRVFVRVNUX0NPTVBMRVRFRCxcclxuICAgIFJFUVVFU1RfU1RBUlRFRCxcclxuICAgIFNFVF9BQ1RJVkVfQ0hBTk5FTCxcclxuICAgIFNFVF9BU19MT0dHRURfSU4sXHJcbiAgICBTRVRfQVNfTE9HR0VEX09VVCxcclxuICAgIFNFVF9DT05URU5UX0xBTkdVQUdFLFxyXG4gICAgU0VUX0RJU1BMQVlfVUlfRVhURU5TSU9OX1BPSU5UUyxcclxuICAgIFNFVF9VSV9MQU5HVUFHRV9BTkRfTE9DQUxFLFxyXG4gICAgU0VUX1VJX0xPQ0FMRSxcclxuICAgIFNFVF9VSV9USEVNRSxcclxuICAgIFVQREFURV9VU0VSX0NIQU5ORUxTLFxyXG59IGZyb20gJy4uL2RlZmluaXRpb25zL2NsaWVudC1kZWZpbml0aW9ucyc7XHJcblxyXG5pbXBvcnQgeyBCYXNlRGF0YVNlcnZpY2UgfSBmcm9tICcuL2Jhc2UtZGF0YS5zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBOb3RlOiBsb2NhbCBxdWVyaWVzIGFsbCBoYXZlIGEgZmV0Y2gtcG9saWN5IG9mIFwiY2FjaGUtZmlyc3RcIiBleHBsaWNpdGx5IHNwZWNpZmllZCBkdWUgdG86XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hcG9sbG9ncmFwaHFsL2Fwb2xsby1saW5rLXN0YXRlL2lzc3Vlcy8yMzZcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDbGllbnREYXRhU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhc2VEYXRhU2VydmljZTogQmFzZURhdGFTZXJ2aWNlKSB7fVxyXG5cclxuICAgIHN0YXJ0UmVxdWVzdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRGF0YVNlcnZpY2UubXV0YXRlPENvZGVnZW4uUmVxdWVzdFN0YXJ0ZWRNdXRhdGlvbj4oUkVRVUVTVF9TVEFSVEVEKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wbGV0ZVJlcXVlc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZURhdGFTZXJ2aWNlLm11dGF0ZTxDb2RlZ2VuLlJlcXVlc3RDb21wbGV0ZWRNdXRhdGlvbj4oUkVRVUVTVF9DT01QTEVURUQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5ldHdvcmtTdGF0dXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZURhdGFTZXJ2aWNlLnF1ZXJ5PENvZGVnZW4uR2V0TmV0d29ya1N0YXR1c1F1ZXJ5PihcclxuICAgICAgICAgICAgR0VUX05FV1RPUktfU1RBVFVTLFxyXG4gICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgJ2NhY2hlLWZpcnN0JyxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZ2luU3VjY2VzcyhcclxuICAgICAgICBhZG1pbmlzdHJhdG9ySWQ6IHN0cmluZyxcclxuICAgICAgICB1c2VybmFtZTogc3RyaW5nLFxyXG4gICAgICAgIGFjdGl2ZUNoYW5uZWxJZDogc3RyaW5nLFxyXG4gICAgICAgIGNoYW5uZWxzOiBDdXJyZW50VXNlckNoYW5uZWxbXSxcclxuICAgICkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5tdXRhdGU8XHJcbiAgICAgICAgICAgIENvZGVnZW4uU2V0QXNMb2dnZWRJbk11dGF0aW9uLFxyXG4gICAgICAgICAgICBDb2RlZ2VuLlNldEFzTG9nZ2VkSW5NdXRhdGlvblZhcmlhYmxlc1xyXG4gICAgICAgID4oU0VUX0FTX0xPR0dFRF9JTiwge1xyXG4gICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgYWRtaW5pc3RyYXRvcklkLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICBsb2dpblRpbWU6IERhdGUubm93KCkudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUNoYW5uZWxJZCxcclxuICAgICAgICAgICAgICAgIGNoYW5uZWxzLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZ091dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRGF0YVNlcnZpY2UubXV0YXRlKFNFVF9BU19MT0dHRURfT1VUKTtcclxuICAgIH1cclxuXHJcbiAgICB1c2VyU3RhdHVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5xdWVyeTxDb2RlZ2VuLkdldFVzZXJTdGF0dXNRdWVyeT4oR0VUX1VTRVJfU1RBVFVTLCB7fSwgJ2NhY2hlLWZpcnN0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgdWlTdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRGF0YVNlcnZpY2UucXVlcnk8Q29kZWdlbi5HZXRVaVN0YXRlUXVlcnk+KEdFVF9VSV9TVEFURSwge30sICdjYWNoZS1maXJzdCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVpTGFuZ3VhZ2UobGFuZ3VhZ2VDb2RlOiBMYW5ndWFnZUNvZGUsIGxvY2FsZT86IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5tdXRhdGU8XHJcbiAgICAgICAgICAgIENvZGVnZW4uU2V0VWlMYW5ndWFnZU11dGF0aW9uLFxyXG4gICAgICAgICAgICBDb2RlZ2VuLlNldFVpTGFuZ3VhZ2VNdXRhdGlvblZhcmlhYmxlc1xyXG4gICAgICAgID4oU0VUX1VJX0xBTkdVQUdFX0FORF9MT0NBTEUsIHtcclxuICAgICAgICAgICAgbGFuZ3VhZ2VDb2RlLFxyXG4gICAgICAgICAgICBsb2NhbGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VWlMb2NhbGUobG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRGF0YVNlcnZpY2UubXV0YXRlPENvZGVnZW4uU2V0VWlMb2NhbGVNdXRhdGlvbiwgQ29kZWdlbi5TZXRVaUxvY2FsZU11dGF0aW9uVmFyaWFibGVzPihcclxuICAgICAgICAgICAgU0VUX1VJX0xPQ0FMRSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29udGVudExhbmd1YWdlKGxhbmd1YWdlQ29kZTogTGFuZ3VhZ2VDb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZURhdGFTZXJ2aWNlLm11dGF0ZTxcclxuICAgICAgICAgICAgQ29kZWdlbi5TZXRDb250ZW50TGFuZ3VhZ2VNdXRhdGlvbixcclxuICAgICAgICAgICAgQ29kZWdlbi5TZXRDb250ZW50TGFuZ3VhZ2VNdXRhdGlvblZhcmlhYmxlc1xyXG4gICAgICAgID4oU0VUX0NPTlRFTlRfTEFOR1VBR0UsIHtcclxuICAgICAgICAgICAgbGFuZ3VhZ2VDb2RlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVpVGhlbWUodGhlbWU6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5tdXRhdGU8Q29kZWdlbi5TZXRVaVRoZW1lTXV0YXRpb24sIENvZGVnZW4uU2V0VWlUaGVtZU11dGF0aW9uVmFyaWFibGVzPihcclxuICAgICAgICAgICAgU0VUX1VJX1RIRU1FLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERpc3BsYXlVaUV4dGVuc2lvblBvaW50cyhkaXNwbGF5OiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZURhdGFTZXJ2aWNlLm11dGF0ZTxcclxuICAgICAgICAgICAgQ29kZWdlbi5TZXREaXNwbGF5VWlFeHRlbnNpb25Qb2ludHNNdXRhdGlvbixcclxuICAgICAgICAgICAgQ29kZWdlbi5TZXREaXNwbGF5VWlFeHRlbnNpb25Qb2ludHNNdXRhdGlvblZhcmlhYmxlc1xyXG4gICAgICAgID4oU0VUX0RJU1BMQVlfVUlfRVhURU5TSU9OX1BPSU5UUywge1xyXG4gICAgICAgICAgICBkaXNwbGF5LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE1haW5OYXZFeHBhbmRlZChleHBhbmRlZDogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5tdXRhdGUoU2V0TWFpbk5hdkV4cGFuZGVkRG9jdW1lbnQsIHtcclxuICAgICAgICAgICAgZXhwYW5kZWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QWN0aXZlQ2hhbm5lbChjaGFubmVsSWQ6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5tdXRhdGU8XHJcbiAgICAgICAgICAgIENvZGVnZW4uU2V0QWN0aXZlQ2hhbm5lbE11dGF0aW9uLFxyXG4gICAgICAgICAgICBDb2RlZ2VuLlNldEFjdGl2ZUNoYW5uZWxNdXRhdGlvblZhcmlhYmxlc1xyXG4gICAgICAgID4oU0VUX0FDVElWRV9DSEFOTkVMLCB7XHJcbiAgICAgICAgICAgIGNoYW5uZWxJZCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVVc2VyQ2hhbm5lbHMoY2hhbm5lbHM6IENvZGVnZW4uQ3VycmVudFVzZXJDaGFubmVsSW5wdXRbXSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VEYXRhU2VydmljZS5tdXRhdGU8XHJcbiAgICAgICAgICAgIENvZGVnZW4uVXBkYXRlVXNlckNoYW5uZWxzTXV0YXRpb24sXHJcbiAgICAgICAgICAgIENvZGVnZW4uVXBkYXRlVXNlckNoYW5uZWxzTXV0YXRpb25WYXJpYWJsZXNcclxuICAgICAgICA+KFVQREFURV9VU0VSX0NIQU5ORUxTLCB7XHJcbiAgICAgICAgICAgIGNoYW5uZWxzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==