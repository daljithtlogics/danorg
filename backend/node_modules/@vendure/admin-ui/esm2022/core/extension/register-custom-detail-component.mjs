import { APP_INITIALIZER } from '@angular/core';
import { CustomDetailComponentService } from '../providers/custom-detail-component/custom-detail-component.service';
/**
 * @description
 * Registers a {@link CustomDetailComponent} to be placed in a given location. This allows you
 * to embed any type of custom Angular component in the entity detail pages of the Admin UI.
 *
 * @example
 * ```ts
 * import { Component, OnInit } from '\@angular/core';
 * import { switchMap } from 'rxjs';
 * import { FormGroup } from '\@angular/forms';
 * import { CustomFieldConfig } from '\@vendure/common/lib/generated-types';
 * import {
 *     DataService,
 *     SharedModule,
 *     CustomDetailComponent,
 *     registerCustomDetailComponent,
 *     GetProductWithVariants
 * } from '\@vendure/admin-ui/core';
 *
 * \@Component({
 *     template: `{{ extraInfo$ | async | json }}`,
 *     standalone: true,
 *     imports: [SharedModule],
 * })
 * export class ProductInfoComponent implements CustomDetailComponent, OnInit {
 *     // These two properties are provided by Vendure and will vary
 *     // depending on the particular detail page you are embedding this
 *     // component into.
 *     entity$: Observable<GetProductWithVariants.Product>
 *     detailForm: FormGroup;
 *
 *     extraInfo$: Observable<any>;
 *
 *     constructor(private cmsDataService: CmsDataService) {}
 *
 *     ngOnInit() {
 *         this.extraInfo$ = this.entity$.pipe(
 *             switchMap(entity => this.cmsDataService.getDataFor(entity.id))
 *         );
 *     }
 * }
 *
 * export default [
 *     registerCustomDetailComponent({
 *         locationId: 'product-detail',
 *         component: ProductInfoComponent,
 *     }),
 * ];
 * ```
 *
 * @docsCategory custom-detail-components
 */
export function registerCustomDetailComponent(config) {
    return {
        provide: APP_INITIALIZER,
        multi: true,
        useFactory: (customDetailComponentService) => () => {
            customDetailComponentService.registerCustomDetailComponent(config);
        },
        deps: [CustomDetailComponentService],
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXItY3VzdG9tLWRldGFpbC1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbGliL2NvcmUvc3JjL2V4dGVuc2lvbi9yZWdpc3Rlci1jdXN0b20tZGV0YWlsLWNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBRTFELE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLHNFQUFzRSxDQUFDO0FBRXBIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FtREc7QUFDSCxNQUFNLFVBQVUsNkJBQTZCLENBQUMsTUFBbUM7SUFDN0UsT0FBTztRQUNILE9BQU8sRUFBRSxlQUFlO1FBQ3hCLEtBQUssRUFBRSxJQUFJO1FBQ1gsVUFBVSxFQUFFLENBQUMsNEJBQTBELEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRTtZQUM3RSw0QkFBNEIsQ0FBQyw2QkFBNkIsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN2RSxDQUFDO1FBQ0QsSUFBSSxFQUFFLENBQUMsNEJBQTRCLENBQUM7S0FDdkMsQ0FBQztBQUNOLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBUFBfSU5JVElBTElaRVIsIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEN1c3RvbURldGFpbENvbXBvbmVudENvbmZpZyB9IGZyb20gJy4uL3Byb3ZpZGVycy9jdXN0b20tZGV0YWlsLWNvbXBvbmVudC9jdXN0b20tZGV0YWlsLWNvbXBvbmVudC10eXBlcyc7XHJcbmltcG9ydCB7IEN1c3RvbURldGFpbENvbXBvbmVudFNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlcnMvY3VzdG9tLWRldGFpbC1jb21wb25lbnQvY3VzdG9tLWRldGFpbC1jb21wb25lbnQuc2VydmljZSc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFJlZ2lzdGVycyBhIHtAbGluayBDdXN0b21EZXRhaWxDb21wb25lbnR9IHRvIGJlIHBsYWNlZCBpbiBhIGdpdmVuIGxvY2F0aW9uLiBUaGlzIGFsbG93cyB5b3VcclxuICogdG8gZW1iZWQgYW55IHR5cGUgb2YgY3VzdG9tIEFuZ3VsYXIgY29tcG9uZW50IGluIHRoZSBlbnRpdHkgZGV0YWlsIHBhZ2VzIG9mIHRoZSBBZG1pbiBVSS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgdHNcclxuICogaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdcXEBhbmd1bGFyL2NvcmUnO1xyXG4gKiBpbXBvcnQgeyBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzJztcclxuICogaW1wb3J0IHsgRm9ybUdyb3VwIH0gZnJvbSAnXFxAYW5ndWxhci9mb3Jtcyc7XHJcbiAqIGltcG9ydCB7IEN1c3RvbUZpZWxkQ29uZmlnIH0gZnJvbSAnXFxAdmVuZHVyZS9jb21tb24vbGliL2dlbmVyYXRlZC10eXBlcyc7XHJcbiAqIGltcG9ydCB7XHJcbiAqICAgICBEYXRhU2VydmljZSxcclxuICogICAgIFNoYXJlZE1vZHVsZSxcclxuICogICAgIEN1c3RvbURldGFpbENvbXBvbmVudCxcclxuICogICAgIHJlZ2lzdGVyQ3VzdG9tRGV0YWlsQ29tcG9uZW50LFxyXG4gKiAgICAgR2V0UHJvZHVjdFdpdGhWYXJpYW50c1xyXG4gKiB9IGZyb20gJ1xcQHZlbmR1cmUvYWRtaW4tdWkvY29yZSc7XHJcbiAqXHJcbiAqIFxcQENvbXBvbmVudCh7XHJcbiAqICAgICB0ZW1wbGF0ZTogYHt7IGV4dHJhSW5mbyQgfCBhc3luYyB8IGpzb24gfX1gLFxyXG4gKiAgICAgc3RhbmRhbG9uZTogdHJ1ZSxcclxuICogICAgIGltcG9ydHM6IFtTaGFyZWRNb2R1bGVdLFxyXG4gKiB9KVxyXG4gKiBleHBvcnQgY2xhc3MgUHJvZHVjdEluZm9Db21wb25lbnQgaW1wbGVtZW50cyBDdXN0b21EZXRhaWxDb21wb25lbnQsIE9uSW5pdCB7XHJcbiAqICAgICAvLyBUaGVzZSB0d28gcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgYnkgVmVuZHVyZSBhbmQgd2lsbCB2YXJ5XHJcbiAqICAgICAvLyBkZXBlbmRpbmcgb24gdGhlIHBhcnRpY3VsYXIgZGV0YWlsIHBhZ2UgeW91IGFyZSBlbWJlZGRpbmcgdGhpc1xyXG4gKiAgICAgLy8gY29tcG9uZW50IGludG8uXHJcbiAqICAgICBlbnRpdHkkOiBPYnNlcnZhYmxlPEdldFByb2R1Y3RXaXRoVmFyaWFudHMuUHJvZHVjdD5cclxuICogICAgIGRldGFpbEZvcm06IEZvcm1Hcm91cDtcclxuICpcclxuICogICAgIGV4dHJhSW5mbyQ6IE9ic2VydmFibGU8YW55PjtcclxuICpcclxuICogICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY21zRGF0YVNlcnZpY2U6IENtc0RhdGFTZXJ2aWNlKSB7fVxyXG4gKlxyXG4gKiAgICAgbmdPbkluaXQoKSB7XHJcbiAqICAgICAgICAgdGhpcy5leHRyYUluZm8kID0gdGhpcy5lbnRpdHkkLnBpcGUoXHJcbiAqICAgICAgICAgICAgIHN3aXRjaE1hcChlbnRpdHkgPT4gdGhpcy5jbXNEYXRhU2VydmljZS5nZXREYXRhRm9yKGVudGl0eS5pZCkpXHJcbiAqICAgICAgICAgKTtcclxuICogICAgIH1cclxuICogfVxyXG4gKlxyXG4gKiBleHBvcnQgZGVmYXVsdCBbXHJcbiAqICAgICByZWdpc3RlckN1c3RvbURldGFpbENvbXBvbmVudCh7XHJcbiAqICAgICAgICAgbG9jYXRpb25JZDogJ3Byb2R1Y3QtZGV0YWlsJyxcclxuICogICAgICAgICBjb21wb25lbnQ6IFByb2R1Y3RJbmZvQ29tcG9uZW50LFxyXG4gKiAgICAgfSksXHJcbiAqIF07XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZG9jc0NhdGVnb3J5IGN1c3RvbS1kZXRhaWwtY29tcG9uZW50c1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQ3VzdG9tRGV0YWlsQ29tcG9uZW50KGNvbmZpZzogQ3VzdG9tRGV0YWlsQ29tcG9uZW50Q29uZmlnKTogUHJvdmlkZXIge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXHJcbiAgICAgICAgbXVsdGk6IHRydWUsXHJcbiAgICAgICAgdXNlRmFjdG9yeTogKGN1c3RvbURldGFpbENvbXBvbmVudFNlcnZpY2U6IEN1c3RvbURldGFpbENvbXBvbmVudFNlcnZpY2UpID0+ICgpID0+IHtcclxuICAgICAgICAgICAgY3VzdG9tRGV0YWlsQ29tcG9uZW50U2VydmljZS5yZWdpc3RlckN1c3RvbURldGFpbENvbXBvbmVudChjb25maWcpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVwczogW0N1c3RvbURldGFpbENvbXBvbmVudFNlcnZpY2VdLFxyXG4gICAgfTtcclxufVxyXG4iXX0=