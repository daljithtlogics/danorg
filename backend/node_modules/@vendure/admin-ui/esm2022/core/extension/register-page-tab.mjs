import { APP_INITIALIZER } from '@angular/core';
import { PageService } from '../providers/page/page.service';
/**
 * @description
 * Add a tab to an existing list or detail page.
 *
 * @example
 * ```ts title="providers.ts"
 * import { registerPageTab } from '@vendure/admin-ui/core';
 * import { DeletedProductListComponent } from './components/deleted-product-list/deleted-product-list.component';
 *
 * export default [
 *     registerPageTab({
 *         location: 'product-list',
 *         tab: 'Deleted Products',
 *         route: 'deleted',
 *         component: DeletedProductListComponent,
 *     }),
 * ];
 * ```
 * @docsCategory tabs
 */
export function registerPageTab(config) {
    return {
        provide: APP_INITIALIZER,
        multi: true,
        useFactory: (pageService) => () => {
            pageService.registerPageTab({
                ...config,
                priority: config.priority || 1,
            });
        },
        deps: [PageService],
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXItcGFnZS10YWIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbGliL2NvcmUvc3JjL2V4dGVuc2lvbi9yZWdpc3Rlci1wYWdlLXRhYi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBQzFELE9BQU8sRUFBRSxXQUFXLEVBQWlCLE1BQU0sZ0NBQWdDLENBQUM7QUFFNUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FtQkc7QUFDSCxNQUFNLFVBQVUsZUFBZSxDQUFDLE1BQXFCO0lBQ2pELE9BQU87UUFDSCxPQUFPLEVBQUUsZUFBZTtRQUN4QixLQUFLLEVBQUUsSUFBSTtRQUNYLFVBQVUsRUFBRSxDQUFDLFdBQXdCLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRTtZQUMzQyxXQUFXLENBQUMsZUFBZSxDQUFDO2dCQUN4QixHQUFHLE1BQU07Z0JBQ1QsUUFBUSxFQUFFLE1BQU0sQ0FBQyxRQUFRLElBQUksQ0FBQzthQUNqQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBQ0QsSUFBSSxFQUFFLENBQUMsV0FBVyxDQUFDO0tBQ3RCLENBQUM7QUFDTixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQVBQX0lOSVRJQUxJWkVSLCBQcm92aWRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBQYWdlU2VydmljZSwgUGFnZVRhYkNvbmZpZyB9IGZyb20gJy4uL3Byb3ZpZGVycy9wYWdlL3BhZ2Uuc2VydmljZSc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEFkZCBhIHRhYiB0byBhbiBleGlzdGluZyBsaXN0IG9yIGRldGFpbCBwYWdlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGB0cyB0aXRsZT1cInByb3ZpZGVycy50c1wiXHJcbiAqIGltcG9ydCB7IHJlZ2lzdGVyUGFnZVRhYiB9IGZyb20gJ0B2ZW5kdXJlL2FkbWluLXVpL2NvcmUnO1xyXG4gKiBpbXBvcnQgeyBEZWxldGVkUHJvZHVjdExpc3RDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZGVsZXRlZC1wcm9kdWN0LWxpc3QvZGVsZXRlZC1wcm9kdWN0LWxpc3QuY29tcG9uZW50JztcclxuICpcclxuICogZXhwb3J0IGRlZmF1bHQgW1xyXG4gKiAgICAgcmVnaXN0ZXJQYWdlVGFiKHtcclxuICogICAgICAgICBsb2NhdGlvbjogJ3Byb2R1Y3QtbGlzdCcsXHJcbiAqICAgICAgICAgdGFiOiAnRGVsZXRlZCBQcm9kdWN0cycsXHJcbiAqICAgICAgICAgcm91dGU6ICdkZWxldGVkJyxcclxuICogICAgICAgICBjb21wb25lbnQ6IERlbGV0ZWRQcm9kdWN0TGlzdENvbXBvbmVudCxcclxuICogICAgIH0pLFxyXG4gKiBdO1xyXG4gKiBgYGBcclxuICogQGRvY3NDYXRlZ29yeSB0YWJzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJQYWdlVGFiKGNvbmZpZzogUGFnZVRhYkNvbmZpZyk6IFByb3ZpZGVyIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLFxyXG4gICAgICAgIG11bHRpOiB0cnVlLFxyXG4gICAgICAgIHVzZUZhY3Rvcnk6IChwYWdlU2VydmljZTogUGFnZVNlcnZpY2UpID0+ICgpID0+IHtcclxuICAgICAgICAgICAgcGFnZVNlcnZpY2UucmVnaXN0ZXJQYWdlVGFiKHtcclxuICAgICAgICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBjb25maWcucHJpb3JpdHkgfHwgMSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZXBzOiBbUGFnZVNlcnZpY2VdLFxyXG4gICAgfTtcclxufVxyXG4iXX0=