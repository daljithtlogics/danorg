import { APP_INITIALIZER } from '@angular/core';
import { HistoryEntryComponentService } from '../providers/custom-history-entry-component/history-entry-component.service';
/**
 * @description
 * Registers a {@link HistoryEntryComponent} for displaying history entries in the Order/Customer
 * history timeline.
 *
 * @example
 * ```ts
 * import { Component } from '\@angular/core';
 * import {
 *     CustomerFragment,
 *     CustomerHistoryEntryComponent,
 *     registerHistoryEntryComponent,
 *     SharedModule,
 *     TimelineDisplayType,
 *     TimelineHistoryEntry,
 * } from '\@vendure/admin-ui/core';
 *
 * \@Component({
 *     selector: 'tax-id-verification-component',
 *     template: `
 *         <div *ngIf="entry.data.valid">
 *           Tax ID <strong>{{ entry.data.taxId }}</strong> was verified
 *           <vdr-history-entry-detail *ngIf="entry.data">
 *             <vdr-object-tree [value]="entry.data"></vdr-object-tree>
 *           </vdr-history-entry-detail>
 *         </div>
 *         <div *ngIf="entry.data.valid">Tax ID {{ entry.data.taxId }} could not be verified</div>
 *     `,
 *     standalone: true,
 *     imports: [SharedModule],
 * })
 * class TaxIdHistoryEntryComponent implements CustomerHistoryEntryComponent {
 *     entry: TimelineHistoryEntry;
 *     customer: CustomerFragment;
 *
 *     getDisplayType(entry: TimelineHistoryEntry): TimelineDisplayType {
 *         return entry.data.valid ? 'success' : 'error';
 *     }
 *
 *     getName(entry: TimelineHistoryEntry): string {
 *         return 'Tax ID Verification Plugin';
 *     }
 *
 *     isFeatured(entry: TimelineHistoryEntry): boolean {
 *         return true;
 *     }
 *
 *     getIconShape(entry: TimelineHistoryEntry) {
 *         return entry.data.valid ? 'check-circle' : 'exclamation-circle';
 *     }
 * }
 *
 * export default [
 *     registerHistoryEntryComponent({
 *         type: 'CUSTOMER_TAX_ID_VERIFICATION',
 *         component: TaxIdHistoryEntryComponent,
 *     }),
 * ];
 * ```
 *
 * @since 1.9.0
 * @docsCategory custom-history-entry-components
 */
export function registerHistoryEntryComponent(config) {
    return {
        provide: APP_INITIALIZER,
        multi: true,
        useFactory: (customHistoryEntryComponentService) => () => {
            customHistoryEntryComponentService.registerComponent(config);
        },
        deps: [HistoryEntryComponentService],
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXItaGlzdG9yeS1lbnRyeS1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbGliL2NvcmUvc3JjL2V4dGVuc2lvbi9yZWdpc3Rlci1oaXN0b3J5LWVudHJ5LWNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBRTFELE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLDZFQUE2RSxDQUFDO0FBRTNIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQThERztBQUNILE1BQU0sVUFBVSw2QkFBNkIsQ0FBQyxNQUEwQjtJQUNwRSxPQUFPO1FBQ0gsT0FBTyxFQUFFLGVBQWU7UUFDeEIsS0FBSyxFQUFFLElBQUk7UUFDWCxVQUFVLEVBQUUsQ0FBQyxrQ0FBZ0UsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFO1lBQ25GLGtDQUFrQyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pFLENBQUM7UUFDRCxJQUFJLEVBQUUsQ0FBQyw0QkFBNEIsQ0FBQztLQUN2QyxDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFQUF9JTklUSUFMSVpFUiwgUHJvdmlkZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgSGlzdG9yeUVudHJ5Q29uZmlnIH0gZnJvbSAnLi4vcHJvdmlkZXJzL2N1c3RvbS1oaXN0b3J5LWVudHJ5LWNvbXBvbmVudC9oaXN0b3J5LWVudHJ5LWNvbXBvbmVudC10eXBlcyc7XHJcbmltcG9ydCB7IEhpc3RvcnlFbnRyeUNvbXBvbmVudFNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlcnMvY3VzdG9tLWhpc3RvcnktZW50cnktY29tcG9uZW50L2hpc3RvcnktZW50cnktY29tcG9uZW50LnNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBSZWdpc3RlcnMgYSB7QGxpbmsgSGlzdG9yeUVudHJ5Q29tcG9uZW50fSBmb3IgZGlzcGxheWluZyBoaXN0b3J5IGVudHJpZXMgaW4gdGhlIE9yZGVyL0N1c3RvbWVyXHJcbiAqIGhpc3RvcnkgdGltZWxpbmUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYHRzXHJcbiAqIGltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ1xcQGFuZ3VsYXIvY29yZSc7XHJcbiAqIGltcG9ydCB7XHJcbiAqICAgICBDdXN0b21lckZyYWdtZW50LFxyXG4gKiAgICAgQ3VzdG9tZXJIaXN0b3J5RW50cnlDb21wb25lbnQsXHJcbiAqICAgICByZWdpc3Rlckhpc3RvcnlFbnRyeUNvbXBvbmVudCxcclxuICogICAgIFNoYXJlZE1vZHVsZSxcclxuICogICAgIFRpbWVsaW5lRGlzcGxheVR5cGUsXHJcbiAqICAgICBUaW1lbGluZUhpc3RvcnlFbnRyeSxcclxuICogfSBmcm9tICdcXEB2ZW5kdXJlL2FkbWluLXVpL2NvcmUnO1xyXG4gKlxyXG4gKiBcXEBDb21wb25lbnQoe1xyXG4gKiAgICAgc2VsZWN0b3I6ICd0YXgtaWQtdmVyaWZpY2F0aW9uLWNvbXBvbmVudCcsXHJcbiAqICAgICB0ZW1wbGF0ZTogYFxyXG4gKiAgICAgICAgIDxkaXYgKm5nSWY9XCJlbnRyeS5kYXRhLnZhbGlkXCI+XHJcbiAqICAgICAgICAgICBUYXggSUQgPHN0cm9uZz57eyBlbnRyeS5kYXRhLnRheElkIH19PC9zdHJvbmc+IHdhcyB2ZXJpZmllZFxyXG4gKiAgICAgICAgICAgPHZkci1oaXN0b3J5LWVudHJ5LWRldGFpbCAqbmdJZj1cImVudHJ5LmRhdGFcIj5cclxuICogICAgICAgICAgICAgPHZkci1vYmplY3QtdHJlZSBbdmFsdWVdPVwiZW50cnkuZGF0YVwiPjwvdmRyLW9iamVjdC10cmVlPlxyXG4gKiAgICAgICAgICAgPC92ZHItaGlzdG9yeS1lbnRyeS1kZXRhaWw+XHJcbiAqICAgICAgICAgPC9kaXY+XHJcbiAqICAgICAgICAgPGRpdiAqbmdJZj1cImVudHJ5LmRhdGEudmFsaWRcIj5UYXggSUQge3sgZW50cnkuZGF0YS50YXhJZCB9fSBjb3VsZCBub3QgYmUgdmVyaWZpZWQ8L2Rpdj5cclxuICogICAgIGAsXHJcbiAqICAgICBzdGFuZGFsb25lOiB0cnVlLFxyXG4gKiAgICAgaW1wb3J0czogW1NoYXJlZE1vZHVsZV0sXHJcbiAqIH0pXHJcbiAqIGNsYXNzIFRheElkSGlzdG9yeUVudHJ5Q29tcG9uZW50IGltcGxlbWVudHMgQ3VzdG9tZXJIaXN0b3J5RW50cnlDb21wb25lbnQge1xyXG4gKiAgICAgZW50cnk6IFRpbWVsaW5lSGlzdG9yeUVudHJ5O1xyXG4gKiAgICAgY3VzdG9tZXI6IEN1c3RvbWVyRnJhZ21lbnQ7XHJcbiAqXHJcbiAqICAgICBnZXREaXNwbGF5VHlwZShlbnRyeTogVGltZWxpbmVIaXN0b3J5RW50cnkpOiBUaW1lbGluZURpc3BsYXlUeXBlIHtcclxuICogICAgICAgICByZXR1cm4gZW50cnkuZGF0YS52YWxpZCA/ICdzdWNjZXNzJyA6ICdlcnJvcic7XHJcbiAqICAgICB9XHJcbiAqXHJcbiAqICAgICBnZXROYW1lKGVudHJ5OiBUaW1lbGluZUhpc3RvcnlFbnRyeSk6IHN0cmluZyB7XHJcbiAqICAgICAgICAgcmV0dXJuICdUYXggSUQgVmVyaWZpY2F0aW9uIFBsdWdpbic7XHJcbiAqICAgICB9XHJcbiAqXHJcbiAqICAgICBpc0ZlYXR1cmVkKGVudHJ5OiBUaW1lbGluZUhpc3RvcnlFbnRyeSk6IGJvb2xlYW4ge1xyXG4gKiAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gKiAgICAgfVxyXG4gKlxyXG4gKiAgICAgZ2V0SWNvblNoYXBlKGVudHJ5OiBUaW1lbGluZUhpc3RvcnlFbnRyeSkge1xyXG4gKiAgICAgICAgIHJldHVybiBlbnRyeS5kYXRhLnZhbGlkID8gJ2NoZWNrLWNpcmNsZScgOiAnZXhjbGFtYXRpb24tY2lyY2xlJztcclxuICogICAgIH1cclxuICogfVxyXG4gKlxyXG4gKiBleHBvcnQgZGVmYXVsdCBbXHJcbiAqICAgICByZWdpc3Rlckhpc3RvcnlFbnRyeUNvbXBvbmVudCh7XHJcbiAqICAgICAgICAgdHlwZTogJ0NVU1RPTUVSX1RBWF9JRF9WRVJJRklDQVRJT04nLFxyXG4gKiAgICAgICAgIGNvbXBvbmVudDogVGF4SWRIaXN0b3J5RW50cnlDb21wb25lbnQsXHJcbiAqICAgICB9KSxcclxuICogXTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBzaW5jZSAxLjkuMFxyXG4gKiBAZG9jc0NhdGVnb3J5IGN1c3RvbS1oaXN0b3J5LWVudHJ5LWNvbXBvbmVudHNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckhpc3RvcnlFbnRyeUNvbXBvbmVudChjb25maWc6IEhpc3RvcnlFbnRyeUNvbmZpZyk6IFByb3ZpZGVyIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLFxyXG4gICAgICAgIG11bHRpOiB0cnVlLFxyXG4gICAgICAgIHVzZUZhY3Rvcnk6IChjdXN0b21IaXN0b3J5RW50cnlDb21wb25lbnRTZXJ2aWNlOiBIaXN0b3J5RW50cnlDb21wb25lbnRTZXJ2aWNlKSA9PiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGN1c3RvbUhpc3RvcnlFbnRyeUNvbXBvbmVudFNlcnZpY2UucmVnaXN0ZXJDb21wb25lbnQoY29uZmlnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlcHM6IFtIaXN0b3J5RW50cnlDb21wb25lbnRTZXJ2aWNlXSxcclxuICAgIH07XHJcbn1cclxuIl19