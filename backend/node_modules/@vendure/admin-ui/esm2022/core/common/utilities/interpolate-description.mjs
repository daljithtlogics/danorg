/**
 * Interpolates the description of an ConfigurableOperation with the given values.
 */
export function interpolateDescription(operation, values) {
    if (!operation) {
        return '';
    }
    const templateString = operation.description;
    const interpolated = templateString.replace(/{\s*([a-zA-Z0-9]+)\s*}/gi, (substring, argName) => {
        const normalizedArgName = argName.toLowerCase();
        const value = values[normalizedArgName];
        if (value == null) {
            return '_';
        }
        let formatted = value;
        const argDef = operation.args.find(arg => arg.name === normalizedArgName);
        if (argDef && argDef.type === 'int' && argDef.ui && argDef.ui.component === 'currency-form-input') {
            formatted = value / 100;
        }
        if (argDef && argDef.type === 'datetime' && value instanceof Date) {
            formatted = value.toLocaleDateString();
        }
        return formatted;
    });
    return interpolated;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJwb2xhdGUtZGVzY3JpcHRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvcmUvc3JjL2NvbW1vbi91dGlsaXRpZXMvaW50ZXJwb2xhdGUtZGVzY3JpcHRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7O0dBRUc7QUFDSCxNQUFNLFVBQVUsc0JBQXNCLENBQ2xDLFNBQTBDLEVBQzFDLE1BQStCO0lBRS9CLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDWixPQUFPLEVBQUUsQ0FBQztLQUNiO0lBQ0QsTUFBTSxjQUFjLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQztJQUM3QyxNQUFNLFlBQVksR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLDBCQUEwQixFQUFFLENBQUMsU0FBUyxFQUFFLE9BQWUsRUFBRSxFQUFFO1FBQ25HLE1BQU0saUJBQWlCLEdBQUcsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ2hELE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3hDLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtZQUNmLE9BQU8sR0FBRyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdEIsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLGlCQUFpQixDQUFDLENBQUM7UUFDMUUsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxLQUFLLElBQUksTUFBTSxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUMsRUFBRSxDQUFDLFNBQVMsS0FBSyxxQkFBcUIsRUFBRTtZQUMvRixTQUFTLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQztTQUMzQjtRQUNELElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVSxJQUFJLEtBQUssWUFBWSxJQUFJLEVBQUU7WUFDL0QsU0FBUyxHQUFHLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1NBQzFDO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPLFlBQVksQ0FBQztBQUN4QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZmlndXJhYmxlT3BlcmF0aW9uRGVmaW5pdGlvbiB9IGZyb20gJy4uL2dlbmVyYXRlZC10eXBlcyc7XHJcblxyXG4vKipcclxuICogSW50ZXJwb2xhdGVzIHRoZSBkZXNjcmlwdGlvbiBvZiBhbiBDb25maWd1cmFibGVPcGVyYXRpb24gd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGludGVycG9sYXRlRGVzY3JpcHRpb24oXHJcbiAgICBvcGVyYXRpb246IENvbmZpZ3VyYWJsZU9wZXJhdGlvbkRlZmluaXRpb24sXHJcbiAgICB2YWx1ZXM6IHsgW25hbWU6IHN0cmluZ106IGFueSB9LFxyXG4pOiBzdHJpbmcge1xyXG4gICAgaWYgKCFvcGVyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0ZW1wbGF0ZVN0cmluZyA9IG9wZXJhdGlvbi5kZXNjcmlwdGlvbjtcclxuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IHRlbXBsYXRlU3RyaW5nLnJlcGxhY2UoL3tcXHMqKFthLXpBLVowLTldKylcXHMqfS9naSwgKHN1YnN0cmluZywgYXJnTmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZEFyZ05hbWUgPSBhcmdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbbm9ybWFsaXplZEFyZ05hbWVdO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnXyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBmb3JtYXR0ZWQgPSB2YWx1ZTtcclxuICAgICAgICBjb25zdCBhcmdEZWYgPSBvcGVyYXRpb24uYXJncy5maW5kKGFyZyA9PiBhcmcubmFtZSA9PT0gbm9ybWFsaXplZEFyZ05hbWUpO1xyXG4gICAgICAgIGlmIChhcmdEZWYgJiYgYXJnRGVmLnR5cGUgPT09ICdpbnQnICYmIGFyZ0RlZi51aSAmJiBhcmdEZWYudWkuY29tcG9uZW50ID09PSAnY3VycmVuY3ktZm9ybS1pbnB1dCcpIHtcclxuICAgICAgICAgICAgZm9ybWF0dGVkID0gdmFsdWUgLyAxMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcmdEZWYgJiYgYXJnRGVmLnR5cGUgPT09ICdkYXRldGltZScgJiYgdmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdHRlZCA9IHZhbHVlLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW50ZXJwb2xhdGVkO1xyXG59XHJcbiJdfQ==