import { ChangeDetectionStrategy, Component, Input } from '@angular/core';
import { of, switchMap } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "../../../providers/page/page.service";
import * as i3 from "@angular/common";
import * as i4 from "../page-header/page-header.component";
import * as i5 from "../page-title/page-title.component";
import * as i6 from "../page-header-description/page-header-description.component";
import * as i7 from "../page-header-tabs/page-header-tabs.component";
import * as i8 from "../page-body/page-body.component";
export class PageComponent {
    constructor(route, pageService) {
        this.route = route;
        this.pageService = pageService;
        this.headerTabs = [];
        this.locationId = this.route.snapshot.data.locationId;
        this.description = this.route.snapshot.data.description ?? '';
        this.headerTabs = this.pageService.getPageTabs(this.locationId).map(tab => ({
            id: tab.tab,
            label: tab.tab,
            icon: tab.tabIcon,
            route: tab.route ? [tab.route] : ['./'],
        }));
        this.entity$ = this.route.data.pipe(switchMap(data => data.entity ?? of(undefined)));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.2", ngImport: i0, type: PageComponent, deps: [{ token: i1.ActivatedRoute }, { token: i2.PageService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.2", type: PageComponent, selector: "vdr-page", inputs: { locationId: "locationId", description: "description" }, ngImport: i0, template: "<vdr-page-header>\r\n    <vdr-page-title></vdr-page-title>\r\n    <vdr-page-header-description *ngIf=\"description\">{{ description }}</vdr-page-header-description>\r\n    <vdr-page-header-tabs *ngIf=\"headerTabs.length > 1\" [tabs]=\"headerTabs\"></vdr-page-header-tabs>\r\n</vdr-page-header>\r\n<vdr-page-body>\r\n    <router-outlet />\r\n</vdr-page-body>\r\n", styles: [""], dependencies: [{ kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.RouterOutlet, selector: "router-outlet", inputs: ["name"], outputs: ["activate", "deactivate", "attach", "detach"], exportAs: ["outlet"] }, { kind: "component", type: i4.PageHeaderComponent, selector: "vdr-page-header" }, { kind: "component", type: i5.PageTitleComponent, selector: "vdr-page-title", inputs: ["title"] }, { kind: "component", type: i6.PageHeaderDescriptionComponent, selector: "vdr-page-header-description" }, { kind: "component", type: i7.PageHeaderTabsComponent, selector: "vdr-page-header-tabs", inputs: ["tabs"] }, { kind: "component", type: i8.PageBodyComponent, selector: "vdr-page-body" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.2", ngImport: i0, type: PageComponent, decorators: [{
            type: Component,
            args: [{ selector: 'vdr-page', changeDetection: ChangeDetectionStrategy.OnPush, template: "<vdr-page-header>\r\n    <vdr-page-title></vdr-page-title>\r\n    <vdr-page-header-description *ngIf=\"description\">{{ description }}</vdr-page-header-description>\r\n    <vdr-page-header-tabs *ngIf=\"headerTabs.length > 1\" [tabs]=\"headerTabs\"></vdr-page-header-tabs>\r\n</vdr-page-header>\r\n<vdr-page-body>\r\n    <router-outlet />\r\n</vdr-page-body>\r\n" }]
        }], ctorParameters: function () { return [{ type: i1.ActivatedRoute }, { type: i2.PageService }]; }, propDecorators: { locationId: [{
                type: Input
            }], description: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvcmUvc3JjL3NoYXJlZC9jb21wb25lbnRzL3BhZ2UvcGFnZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvcmUvc3JjL3NoYXJlZC9jb21wb25lbnRzL3BhZ2UvcGFnZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUxRSxPQUFPLEVBQWMsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLE1BQU0sQ0FBQzs7Ozs7Ozs7OztBQVdqRCxNQUFNLE9BQU8sYUFBYTtJQUt0QixZQUFvQixLQUFxQixFQUFVLFdBQXdCO1FBQXZELFVBQUssR0FBTCxLQUFLLENBQWdCO1FBQVUsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFKM0UsZUFBVSxHQUFnQixFQUFFLENBQUM7UUFLekIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQ3RELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsSUFBSSxFQUFFLENBQUM7UUFDOUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN4RSxFQUFFLEVBQUUsR0FBRyxDQUFDLEdBQUc7WUFDWCxLQUFLLEVBQUUsR0FBRyxDQUFDLEdBQUc7WUFDZCxJQUFJLEVBQUUsR0FBRyxDQUFDLE9BQU87WUFDakIsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUMxQyxDQUFDLENBQUMsQ0FBQztRQUNKLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUMvQixTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBRSxJQUFJLENBQUMsTUFBMEIsSUFBSSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FDdkUsQ0FBQztJQUNOLENBQUM7OEdBakJRLGFBQWE7a0dBQWIsYUFBYSxrSENiMUIsMldBUUE7OzJGREthLGFBQWE7a0JBTnpCLFNBQVM7K0JBQ0ksVUFBVSxtQkFHSCx1QkFBdUIsQ0FBQyxNQUFNOytIQUk1QixVQUFVO3NCQUE1QixLQUFLO2dCQUNhLFdBQVc7c0JBQTdCLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIG9mLCBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgUGFnZUxvY2F0aW9uSWQgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vY29tcG9uZW50LXJlZ2lzdHJ5LXR5cGVzJztcclxuaW1wb3J0IHsgUGFnZVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wcm92aWRlcnMvcGFnZS9wYWdlLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBIZWFkZXJUYWIgfSBmcm9tICcuLi9wYWdlLWhlYWRlci10YWJzL3BhZ2UtaGVhZGVyLXRhYnMuY29tcG9uZW50JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICd2ZHItcGFnZScsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vcGFnZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9wYWdlLmNvbXBvbmVudC5zY3NzJ10sXHJcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxufSlcclxuZXhwb3J0IGNsYXNzIFBhZ2VDb21wb25lbnQge1xyXG4gICAgaGVhZGVyVGFiczogSGVhZGVyVGFiW10gPSBbXTtcclxuICAgIEBJbnB1dCgpIHByb3RlY3RlZCBsb2NhdGlvbklkOiBQYWdlTG9jYXRpb25JZDtcclxuICAgIEBJbnB1dCgpIHByb3RlY3RlZCBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgZW50aXR5JDogT2JzZXJ2YWJsZTx7IGlkOiBzdHJpbmc7IGNyZWF0ZWRBdD86IHN0cmluZzsgdXBkYXRlZEF0Pzogc3RyaW5nIH0gfCB1bmRlZmluZWQ+O1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByb3V0ZTogQWN0aXZhdGVkUm91dGUsIHByaXZhdGUgcGFnZVNlcnZpY2U6IFBhZ2VTZXJ2aWNlKSB7XHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbklkID0gdGhpcy5yb3V0ZS5zbmFwc2hvdC5kYXRhLmxvY2F0aW9uSWQ7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IHRoaXMucm91dGUuc25hcHNob3QuZGF0YS5kZXNjcmlwdGlvbiA/PyAnJztcclxuICAgICAgICB0aGlzLmhlYWRlclRhYnMgPSB0aGlzLnBhZ2VTZXJ2aWNlLmdldFBhZ2VUYWJzKHRoaXMubG9jYXRpb25JZCkubWFwKHRhYiA9PiAoe1xyXG4gICAgICAgICAgICBpZDogdGFiLnRhYixcclxuICAgICAgICAgICAgbGFiZWw6IHRhYi50YWIsXHJcbiAgICAgICAgICAgIGljb246IHRhYi50YWJJY29uLFxyXG4gICAgICAgICAgICByb3V0ZTogdGFiLnJvdXRlID8gW3RhYi5yb3V0ZV0gOiBbJy4vJ10sXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHRoaXMuZW50aXR5JCA9IHRoaXMucm91dGUuZGF0YS5waXBlKFxyXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZGF0YSA9PiAoZGF0YS5lbnRpdHkgYXMgT2JzZXJ2YWJsZTxhbnk+KSA/PyBvZih1bmRlZmluZWQpKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsIjx2ZHItcGFnZS1oZWFkZXI+XHJcbiAgICA8dmRyLXBhZ2UtdGl0bGU+PC92ZHItcGFnZS10aXRsZT5cclxuICAgIDx2ZHItcGFnZS1oZWFkZXItZGVzY3JpcHRpb24gKm5nSWY9XCJkZXNjcmlwdGlvblwiPnt7IGRlc2NyaXB0aW9uIH19PC92ZHItcGFnZS1oZWFkZXItZGVzY3JpcHRpb24+XHJcbiAgICA8dmRyLXBhZ2UtaGVhZGVyLXRhYnMgKm5nSWY9XCJoZWFkZXJUYWJzLmxlbmd0aCA+IDFcIiBbdGFic109XCJoZWFkZXJUYWJzXCI+PC92ZHItcGFnZS1oZWFkZXItdGFicz5cclxuPC92ZHItcGFnZS1oZWFkZXI+XHJcbjx2ZHItcGFnZS1ib2R5PlxyXG4gICAgPHJvdXRlci1vdXRsZXQgLz5cclxuPC92ZHItcGFnZS1ib2R5PlxyXG4iXX0=