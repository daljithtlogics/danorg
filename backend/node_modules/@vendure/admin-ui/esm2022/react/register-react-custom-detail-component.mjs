import { APP_INITIALIZER } from '@angular/core';
import { CustomDetailComponentService } from '@vendure/admin-ui/core';
import { REACT_CUSTOM_DETAIL_COMPONENT_OPTIONS, ReactCustomDetailComponent, } from './components/react-custom-detail.component';
/**
 * @description
 * Registers a React component to be rendered in a detail page in the given location.
 * Components used as custom detail components can make use of the {@link useDetailComponentData} hook.
 *
 * @docsCategory react-extensions
 */
export function registerReactCustomDetailComponent(config) {
    return {
        provide: APP_INITIALIZER,
        multi: true,
        useFactory: (customDetailComponentService) => () => {
            customDetailComponentService.registerCustomDetailComponent({
                component: ReactCustomDetailComponent,
                locationId: config.locationId,
                providers: [
                    {
                        provide: REACT_CUSTOM_DETAIL_COMPONENT_OPTIONS,
                        useValue: {
                            component: config.component,
                            props: config.props,
                        },
                    },
                ],
            });
        },
        deps: [CustomDetailComponentService],
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXItcmVhY3QtY3VzdG9tLWRldGFpbC1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL3JlYWN0L3NyYy9yZWdpc3Rlci1yZWFjdC1jdXN0b20tZGV0YWlsLWNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2hELE9BQU8sRUFBbUMsNEJBQTRCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUV2RyxPQUFPLEVBQ0gscUNBQXFDLEVBQ3JDLDBCQUEwQixHQUM3QixNQUFNLDRDQUE0QyxDQUFDO0FBMEJwRDs7Ozs7O0dBTUc7QUFDSCxNQUFNLFVBQVUsa0NBQWtDLENBQUMsTUFBd0M7SUFDdkYsT0FBTztRQUNILE9BQU8sRUFBRSxlQUFlO1FBQ3hCLEtBQUssRUFBRSxJQUFJO1FBQ1gsVUFBVSxFQUFFLENBQUMsNEJBQTBELEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRTtZQUM3RSw0QkFBNEIsQ0FBQyw2QkFBNkIsQ0FBQztnQkFDdkQsU0FBUyxFQUFFLDBCQUEwQjtnQkFDckMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxVQUFVO2dCQUM3QixTQUFTLEVBQUU7b0JBQ1A7d0JBQ0ksT0FBTyxFQUFFLHFDQUFxQzt3QkFDOUMsUUFBUSxFQUFFOzRCQUNOLFNBQVMsRUFBRSxNQUFNLENBQUMsU0FBUzs0QkFDM0IsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLO3lCQUN0QjtxQkFDSjtpQkFDSjthQUNKLENBQUMsQ0FBQztRQUNQLENBQUM7UUFDRCxJQUFJLEVBQUUsQ0FBQyw0QkFBNEIsQ0FBQztLQUN2QyxDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFQUF9JTklUSUFMSVpFUiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDdXN0b21EZXRhaWxDb21wb25lbnRMb2NhdGlvbklkLCBDdXN0b21EZXRhaWxDb21wb25lbnRTZXJ2aWNlIH0gZnJvbSAnQHZlbmR1cmUvYWRtaW4tdWkvY29yZSc7XHJcbmltcG9ydCB7IEVsZW1lbnRUeXBlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge1xyXG4gICAgUkVBQ1RfQ1VTVE9NX0RFVEFJTF9DT01QT05FTlRfT1BUSU9OUyxcclxuICAgIFJlYWN0Q3VzdG9tRGV0YWlsQ29tcG9uZW50LFxyXG59IGZyb20gJy4vY29tcG9uZW50cy9yZWFjdC1jdXN0b20tZGV0YWlsLmNvbXBvbmVudCc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIENvbmZpZ3VyZXMgYSBSZWFjdC1iYXNlZCBjb21wb25lbnQgdG8gYmUgcGxhY2VkIGluIGEgZGV0YWlsIHBhZ2UgaW4gdGhlIGdpdmVuIGxvY2F0aW9uLlxyXG4gKlxyXG4gKiBAZG9jc0NhdGVnb3J5IHJlYWN0LWV4dGVuc2lvbnNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3RDdXN0b21EZXRhaWxDb21wb25lbnRDb25maWcge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoZSBpZCBvZiB0aGUgZGV0YWlsIHBhZ2UgbG9jYXRpb24gaW4gd2hpY2ggdG8gcGxhY2UgdGhlIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgbG9jYXRpb25JZDogQ3VzdG9tRGV0YWlsQ29tcG9uZW50TG9jYXRpb25JZDtcclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGUgUmVhY3QgY29tcG9uZW50IHRvIHJlbmRlci5cclxuICAgICAqL1xyXG4gICAgY29tcG9uZW50OiBFbGVtZW50VHlwZTtcclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBPcHRpb25hbCBwcm9wcyB0byBwYXNzIHRvIHRoZSBSZWFjdCBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIHByb3BzPzogUmVjb3JkPHN0cmluZywgYW55PjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBSZWdpc3RlcnMgYSBSZWFjdCBjb21wb25lbnQgdG8gYmUgcmVuZGVyZWQgaW4gYSBkZXRhaWwgcGFnZSBpbiB0aGUgZ2l2ZW4gbG9jYXRpb24uXHJcbiAqIENvbXBvbmVudHMgdXNlZCBhcyBjdXN0b20gZGV0YWlsIGNvbXBvbmVudHMgY2FuIG1ha2UgdXNlIG9mIHRoZSB7QGxpbmsgdXNlRGV0YWlsQ29tcG9uZW50RGF0YX0gaG9vay5cclxuICpcclxuICogQGRvY3NDYXRlZ29yeSByZWFjdC1leHRlbnNpb25zXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJSZWFjdEN1c3RvbURldGFpbENvbXBvbmVudChjb25maWc6IFJlYWN0Q3VzdG9tRGV0YWlsQ29tcG9uZW50Q29uZmlnKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcclxuICAgICAgICBtdWx0aTogdHJ1ZSxcclxuICAgICAgICB1c2VGYWN0b3J5OiAoY3VzdG9tRGV0YWlsQ29tcG9uZW50U2VydmljZTogQ3VzdG9tRGV0YWlsQ29tcG9uZW50U2VydmljZSkgPT4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjdXN0b21EZXRhaWxDb21wb25lbnRTZXJ2aWNlLnJlZ2lzdGVyQ3VzdG9tRGV0YWlsQ29tcG9uZW50KHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogUmVhY3RDdXN0b21EZXRhaWxDb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbklkOiBjb25maWcubG9jYXRpb25JZCxcclxuICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogUkVBQ1RfQ1VTVE9NX0RFVEFJTF9DT01QT05FTlRfT1BUSU9OUyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlVmFsdWU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY29uZmlnLmNvbXBvbmVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiBjb25maWcucHJvcHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVwczogW0N1c3RvbURldGFpbENvbXBvbmVudFNlcnZpY2VdLFxyXG4gICAgfTtcclxufVxyXG4iXX0=