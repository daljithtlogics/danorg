import { ActivatedRoute } from '@angular/router';
import { useEffect, useState } from 'react';
import { useInjector } from './use-injector';
/**
 * @description
 * Provides access to the current route params and query params.
 *
 * @example
 * ```ts
 * import { useRouteParams } from '\@vendure/admin-ui/react';
 * import React from 'react';
 *
 * export function MyComponent() {
 *     const { params, queryParams } = useRouteParams();
 *     // ...
 *     return <div>{ params.id }</div>;
 * }
 * ```
 *
 * @docsCategory react-hooks
 */
export function useRouteParams() {
    const activatedRoute = useInjector(ActivatedRoute);
    const [params, setParams] = useState(activatedRoute.snapshot.params);
    const [queryParams, setQueryParams] = useState(activatedRoute.snapshot.queryParams);
    useEffect(() => {
        const subscription = activatedRoute.params.subscribe(value => {
            setParams(value);
        });
        subscription.add(activatedRoute.queryParams.subscribe(value => setQueryParams(value)));
        return () => subscription.unsubscribe();
    }, []);
    activatedRoute;
    return {
        params,
        queryParams,
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJvdXRlLXBhcmFtcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvcmVhY3Qvc3JjL3JlYWN0LWhvb2tzL3VzZS1yb3V0ZS1wYXJhbXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQzVDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUU3Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpQkc7QUFDSCxNQUFNLFVBQVUsY0FBYztJQUMxQixNQUFNLGNBQWMsR0FBRyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDbkQsTUFBTSxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyRSxNQUFNLENBQUMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBRXBGLFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDWCxNQUFNLFlBQVksR0FBRyxjQUFjLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN6RCxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckIsQ0FBQyxDQUFDLENBQUM7UUFDSCxZQUFZLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RixPQUFPLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUM1QyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFUCxjQUFjLENBQUM7SUFFZixPQUFPO1FBQ0gsTUFBTTtRQUNOLFdBQVc7S0FDZCxDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGl2YXRlZFJvdXRlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlSW5qZWN0b3IgfSBmcm9tICcuL3VzZS1pbmplY3Rvcic7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgY3VycmVudCByb3V0ZSBwYXJhbXMgYW5kIHF1ZXJ5IHBhcmFtcy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgdHNcclxuICogaW1wb3J0IHsgdXNlUm91dGVQYXJhbXMgfSBmcm9tICdcXEB2ZW5kdXJlL2FkbWluLXVpL3JlYWN0JztcclxuICogaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuICpcclxuICogZXhwb3J0IGZ1bmN0aW9uIE15Q29tcG9uZW50KCkge1xyXG4gKiAgICAgY29uc3QgeyBwYXJhbXMsIHF1ZXJ5UGFyYW1zIH0gPSB1c2VSb3V0ZVBhcmFtcygpO1xyXG4gKiAgICAgLy8gLi4uXHJcbiAqICAgICByZXR1cm4gPGRpdj57IHBhcmFtcy5pZCB9PC9kaXY+O1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZG9jc0NhdGVnb3J5IHJlYWN0LWhvb2tzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlUm91dGVQYXJhbXMoKSB7XHJcbiAgICBjb25zdCBhY3RpdmF0ZWRSb3V0ZSA9IHVzZUluamVjdG9yKEFjdGl2YXRlZFJvdXRlKTtcclxuICAgIGNvbnN0IFtwYXJhbXMsIHNldFBhcmFtc10gPSB1c2VTdGF0ZShhY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdC5wYXJhbXMpO1xyXG4gICAgY29uc3QgW3F1ZXJ5UGFyYW1zLCBzZXRRdWVyeVBhcmFtc10gPSB1c2VTdGF0ZShhY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdC5xdWVyeVBhcmFtcyk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBhY3RpdmF0ZWRSb3V0ZS5wYXJhbXMuc3Vic2NyaWJlKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgc2V0UGFyYW1zKHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzdWJzY3JpcHRpb24uYWRkKGFjdGl2YXRlZFJvdXRlLnF1ZXJ5UGFyYW1zLnN1YnNjcmliZSh2YWx1ZSA9PiBzZXRRdWVyeVBhcmFtcyh2YWx1ZSkpKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgYWN0aXZhdGVkUm91dGU7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwYXJhbXMsXHJcbiAgICAgICAgcXVlcnlQYXJhbXMsXHJcbiAgICB9O1xyXG59XHJcbiJdfQ==