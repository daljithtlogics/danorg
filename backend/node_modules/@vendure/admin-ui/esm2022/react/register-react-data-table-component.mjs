import { APP_INITIALIZER } from '@angular/core';
import { DataTableCustomComponentService, } from '@vendure/admin-ui/core';
import { REACT_CUSTOM_COLUMN_COMPONENT_OPTIONS, ReactCustomColumnComponent, } from './components/react-custom-column.component';
/**
 * @description
 * Registers a React component to be rendered in a data table in the given location.
 * The component will receive the `rowItem` prop which is the data object for the row,
 * e.g. the `Product` object if used in the `product-list` table.
 *
 * @example
 * ```ts title="components/SlugWithLink.tsx"
 * import { ReactDataTableComponentProps } from '\@vendure/admin-ui/react';
 * import React from 'react';
 *
 * export function SlugWithLink({ rowItem }: ReactDataTableComponentProps) {
 *     return (
 *         <a href={`https://example.com/products/${rowItem.slug}`} target="_blank">
 *             {rowItem.slug}
 *         </a>
 *     );
 * }
 * ```
 *
 * ```ts title="providers.ts"
 * import { registerReactDataTableComponent } from '\@vendure/admin-ui/react';
 * import { SlugWithLink } from './components/SlugWithLink';
 *
 * export default [
 *     registerReactDataTableComponent({
 *         component: SlugWithLink,
 *         tableId: 'product-list',
 *         columnId: 'slug',
 *         props: {
 *         foo: 'bar',
 *         },
 *     }),
 * ];
 * ```
 *
 * @docsCategory react-extensions
 */
export function registerReactDataTableComponent(config) {
    return {
        provide: APP_INITIALIZER,
        multi: true,
        useFactory: (dataTableCustomComponentService) => () => {
            dataTableCustomComponentService.registerCustomComponent({
                ...config,
                component: ReactCustomColumnComponent,
                providers: [
                    {
                        provide: REACT_CUSTOM_COLUMN_COMPONENT_OPTIONS,
                        useValue: {
                            component: config.component,
                            props: config.props,
                        },
                    },
                ],
            });
        },
        deps: [DataTableCustomComponentService],
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXItcmVhY3QtZGF0YS10YWJsZS1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL3JlYWN0L3NyYy9yZWdpc3Rlci1yZWFjdC1kYXRhLXRhYmxlLWNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2hELE9BQU8sRUFFSCwrQkFBK0IsR0FFbEMsTUFBTSx3QkFBd0IsQ0FBQztBQUVoQyxPQUFPLEVBQ0gscUNBQXFDLEVBQ3JDLDBCQUEwQixHQUM3QixNQUFNLDRDQUE0QyxDQUFDO0FBeUNwRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXFDRztBQUNILE1BQU0sVUFBVSwrQkFBK0IsQ0FBQyxNQUFxQztJQUNqRixPQUFPO1FBQ0gsT0FBTyxFQUFFLGVBQWU7UUFDeEIsS0FBSyxFQUFFLElBQUk7UUFDWCxVQUFVLEVBQUUsQ0FBQywrQkFBZ0UsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFO1lBQ25GLCtCQUErQixDQUFDLHVCQUF1QixDQUFDO2dCQUNwRCxHQUFHLE1BQU07Z0JBQ1QsU0FBUyxFQUFFLDBCQUEwQjtnQkFDckMsU0FBUyxFQUFFO29CQUNQO3dCQUNJLE9BQU8sRUFBRSxxQ0FBcUM7d0JBQzlDLFFBQVEsRUFBRTs0QkFDTixTQUFTLEVBQUUsTUFBTSxDQUFDLFNBQVM7NEJBQzNCLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSzt5QkFDdEI7cUJBQ0o7aUJBQ0o7YUFDSixDQUFDLENBQUM7UUFDUCxDQUFDO1FBQ0QsSUFBSSxFQUFFLENBQUMsK0JBQStCLENBQUM7S0FDMUMsQ0FBQztBQUNOLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBUFBfSU5JVElBTElaRVIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtcclxuICAgIERhdGFUYWJsZUNvbHVtbklkLFxyXG4gICAgRGF0YVRhYmxlQ3VzdG9tQ29tcG9uZW50U2VydmljZSxcclxuICAgIERhdGFUYWJsZUxvY2F0aW9uSWQsXHJcbn0gZnJvbSAnQHZlbmR1cmUvYWRtaW4tdWkvY29yZSc7XHJcbmltcG9ydCB7IEVsZW1lbnRUeXBlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge1xyXG4gICAgUkVBQ1RfQ1VTVE9NX0NPTFVNTl9DT01QT05FTlRfT1BUSU9OUyxcclxuICAgIFJlYWN0Q3VzdG9tQ29sdW1uQ29tcG9uZW50LFxyXG59IGZyb20gJy4vY29tcG9uZW50cy9yZWFjdC1jdXN0b20tY29sdW1uLmNvbXBvbmVudCc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIENvbmZpZ3VyZXMgYSB7QGxpbmsgQ3VzdG9tRGV0YWlsQ29tcG9uZW50fSB0byBiZSBwbGFjZWQgaW4gdGhlIGdpdmVuIGxvY2F0aW9uLlxyXG4gKlxyXG4gKiBAZG9jc0NhdGVnb3J5IHJlYWN0LWV4dGVuc2lvbnNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3REYXRhVGFibGVDb21wb25lbnRDb25maWcge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoZSBsb2NhdGlvbiBpbiB0aGUgVUkgd2hlcmUgdGhlIGN1c3RvbSBjb21wb25lbnQgc2hvdWxkIGJlIHBsYWNlZC5cclxuICAgICAqL1xyXG4gICAgdGFibGVJZDogRGF0YVRhYmxlTG9jYXRpb25JZDtcclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGUgY29sdW1uIGluIHRoZSB0YWJsZSB3aGVyZSB0aGUgY3VzdG9tIGNvbXBvbmVudCBzaG91bGQgYmUgcGxhY2VkLlxyXG4gICAgICovXHJcbiAgICBjb2x1bW5JZDogRGF0YVRhYmxlQ29sdW1uSWQ7XHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogVGhlIGNvbXBvbmVudCB0byByZW5kZXIgaW4gdGhlIHRhYmxlIGNlbGwuIFRoaXMgY29tcG9uZW50IHdpbGwgcmVjZWl2ZSB0aGUgYHJvd0l0ZW1gIHByb3BcclxuICAgICAqIHdoaWNoIGlzIHRoZSBkYXRhIG9iamVjdCBmb3IgdGhlIHJvdywgZS5nLiB0aGUgYFByb2R1Y3RgIG9iamVjdCBpZiB1c2VkIGluIHRoZSBgcHJvZHVjdC1saXN0YCB0YWJsZS5cclxuICAgICAqL1xyXG4gICAgY29tcG9uZW50OiBFbGVtZW50VHlwZTtcclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBPcHRpb25hbCBwcm9wcyB0byBwYXNzIHRvIHRoZSBSZWFjdCBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIHByb3BzPzogUmVjb3JkPHN0cmluZywgYW55PjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgcHJvcHMgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgUmVhY3QgY29tcG9uZW50IHJlZ2lzdGVyZWQgdmlhIHtAbGluayByZWdpc3RlclJlYWN0RGF0YVRhYmxlQ29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3REYXRhVGFibGVDb21wb25lbnRQcm9wcyB7XHJcbiAgICByb3dJdGVtOiBhbnk7XHJcbiAgICBbcHJvcDogc3RyaW5nXTogYW55O1xyXG59XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFJlZ2lzdGVycyBhIFJlYWN0IGNvbXBvbmVudCB0byBiZSByZW5kZXJlZCBpbiBhIGRhdGEgdGFibGUgaW4gdGhlIGdpdmVuIGxvY2F0aW9uLlxyXG4gKiBUaGUgY29tcG9uZW50IHdpbGwgcmVjZWl2ZSB0aGUgYHJvd0l0ZW1gIHByb3Agd2hpY2ggaXMgdGhlIGRhdGEgb2JqZWN0IGZvciB0aGUgcm93LFxyXG4gKiBlLmcuIHRoZSBgUHJvZHVjdGAgb2JqZWN0IGlmIHVzZWQgaW4gdGhlIGBwcm9kdWN0LWxpc3RgIHRhYmxlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGB0cyB0aXRsZT1cImNvbXBvbmVudHMvU2x1Z1dpdGhMaW5rLnRzeFwiXHJcbiAqIGltcG9ydCB7IFJlYWN0RGF0YVRhYmxlQ29tcG9uZW50UHJvcHMgfSBmcm9tICdcXEB2ZW5kdXJlL2FkbWluLXVpL3JlYWN0JztcclxuICogaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuICpcclxuICogZXhwb3J0IGZ1bmN0aW9uIFNsdWdXaXRoTGluayh7IHJvd0l0ZW0gfTogUmVhY3REYXRhVGFibGVDb21wb25lbnRQcm9wcykge1xyXG4gKiAgICAgcmV0dXJuIChcclxuICogICAgICAgICA8YSBocmVmPXtgaHR0cHM6Ly9leGFtcGxlLmNvbS9wcm9kdWN0cy8ke3Jvd0l0ZW0uc2x1Z31gfSB0YXJnZXQ9XCJfYmxhbmtcIj5cclxuICogICAgICAgICAgICAge3Jvd0l0ZW0uc2x1Z31cclxuICogICAgICAgICA8L2E+XHJcbiAqICAgICApO1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBgYGB0cyB0aXRsZT1cInByb3ZpZGVycy50c1wiXHJcbiAqIGltcG9ydCB7IHJlZ2lzdGVyUmVhY3REYXRhVGFibGVDb21wb25lbnQgfSBmcm9tICdcXEB2ZW5kdXJlL2FkbWluLXVpL3JlYWN0JztcclxuICogaW1wb3J0IHsgU2x1Z1dpdGhMaW5rIH0gZnJvbSAnLi9jb21wb25lbnRzL1NsdWdXaXRoTGluayc7XHJcbiAqXHJcbiAqIGV4cG9ydCBkZWZhdWx0IFtcclxuICogICAgIHJlZ2lzdGVyUmVhY3REYXRhVGFibGVDb21wb25lbnQoe1xyXG4gKiAgICAgICAgIGNvbXBvbmVudDogU2x1Z1dpdGhMaW5rLFxyXG4gKiAgICAgICAgIHRhYmxlSWQ6ICdwcm9kdWN0LWxpc3QnLFxyXG4gKiAgICAgICAgIGNvbHVtbklkOiAnc2x1ZycsXHJcbiAqICAgICAgICAgcHJvcHM6IHtcclxuICogICAgICAgICBmb286ICdiYXInLFxyXG4gKiAgICAgICAgIH0sXHJcbiAqICAgICB9KSxcclxuICogXTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBkb2NzQ2F0ZWdvcnkgcmVhY3QtZXh0ZW5zaW9uc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyUmVhY3REYXRhVGFibGVDb21wb25lbnQoY29uZmlnOiBSZWFjdERhdGFUYWJsZUNvbXBvbmVudENvbmZpZykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXHJcbiAgICAgICAgbXVsdGk6IHRydWUsXHJcbiAgICAgICAgdXNlRmFjdG9yeTogKGRhdGFUYWJsZUN1c3RvbUNvbXBvbmVudFNlcnZpY2U6IERhdGFUYWJsZUN1c3RvbUNvbXBvbmVudFNlcnZpY2UpID0+ICgpID0+IHtcclxuICAgICAgICAgICAgZGF0YVRhYmxlQ3VzdG9tQ29tcG9uZW50U2VydmljZS5yZWdpc3RlckN1c3RvbUNvbXBvbmVudCh7XHJcbiAgICAgICAgICAgICAgICAuLi5jb25maWcsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFJlYWN0Q3VzdG9tQ29sdW1uQ29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBSRUFDVF9DVVNUT01fQ09MVU1OX0NPTVBPTkVOVF9PUFRJT05TLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VWYWx1ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBjb25maWcuY29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IGNvbmZpZy5wcm9wcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZXBzOiBbRGF0YVRhYmxlQ3VzdG9tQ29tcG9uZW50U2VydmljZV0sXHJcbiAgICB9O1xyXG59XHJcbiJdfQ==