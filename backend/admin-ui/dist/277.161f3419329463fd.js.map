{"version":3,"file":"277.161f3419329463fd.js","mappings":"qSAWqC,SAAAA,EAAAC,EAAAC,GA8EsxB,GA9EtxB,EAAAD,IA6E+DE,MAAE,UAAFA,MAAE,gBAAFA,MAAE,UAAFA,MAAE,GAAFA,cAAE,UAAFA,MAAE,UAAFA,MAAE,cAAFA,WACutB,EAAAF,EAAA,OAAAG,EADvtBD,cAAE,GAAFA,MAAE,OAAAC,EAAAC,gBAAFF,aAAE,GAAFA,MAAEC,EAAAE,cAAFH,MAAE,GAAFA,MAAE,OAAAC,EAAAG,iBAAFJ,MACwrB,WAAAK,EAAAP,EAAAC,GAAwJ,GAAxJ,EAAAD,IADxrBE,MAAE,UAAFA,MAAE,GAAFA,SACg1B,EAAAF,EAAA,OAAAQ,EADh1BN,cAAE,GAAFA,MAAEM,EAAAC,cAC00B,WAAAC,EAAAV,EAAAC,GAAoI,GAApI,EAAAD,GAD50BE,MAAE,YAC88B,EAAAF,EAAA,OAAAW,EADh9BT,cAAE,MAAAS,EAAAC,SAAFV,OAC07B,MAAAS,EAAAC,SAAA,WAAAC,EAAAb,EAAAC,GAAA,EAAAD,IAD17BE,MAAE,UAAFA,MAAE,OAAFA,QAC0qH,UAAAY,EAAAd,EAAAC,GAA+B,GAA/B,EAAAD,IAD1qHE,MAAE,UAAFA,MAAE,GAAFA,MAAE,EAAAW,EAAA,eAAFX,SACysH,EAAAF,EAAA,OAAAe,EADzsHb,cAAE,GAAFA,MAAE,GAAAa,EAAAC,MAAA,KAAFd,MAAE,GAAFA,MAAE,QAAAa,EAAAE,sBAAAF,EAAAG,YAC6pH,WAAAC,EAAAnB,EAAAC,GAAA,EAAAD,IAD/pHE,MAAE,UAAFA,MAAE,aAAFA,QACoxH,UAAAkB,EAAApB,EAAAC,GAA0E,GAA1E,EAAAD,IADpxHE,MAAE,UAAFA,MAAE,GAAFA,SAC81H,EAAAF,EAAA,OAAAqB,EAD91HnB,cAAE,GAAFA,MAAE,IAAAmB,EAAAC,QAAA,GACq1H,WAAAC,EAAAvB,EAAAC,GAAA,EAAAD,GADv1HE,MAAE,WAC6gI,OAAAsB,EAAA,SAAAC,GAAA,OAAAT,MAAAS,EAAA,EA5EnnI,MAAMC,EACFC,YAAYC,EAAaC,EAAQC,GAC7BC,KAAKH,YAAcA,EACnBG,KAAKF,OAASA,EACdE,KAAKD,WAAaA,EAClBC,KAAKC,SAAW,GAChBD,KAAKE,SAAW,GAChBF,KAAKG,YAAa,EAClBH,KAAKT,QAAUa,MACfJ,KAAKf,SAAQoB,SAAepB,MAC5Be,KAAKd,uBAAsBmB,SAAenB,oBAC1Cc,KAAKb,eAAckB,SAAelB,YAClCa,KAAKM,kBAAiBD,SAAeE,cACrCP,KAAKnB,SAAW,GAChBmB,KAAKzB,iBAAmB,GACxByB,KAAKtB,cAAgB,GACrBsB,KAAK1B,aAAe,GACpB0B,KAAK3B,gBAAkB,GACnB2B,KAAKM,eACLN,KAAKnB,SAAWmB,KAAKM,eAGrBN,KAAKQ,WAEb,CACAC,QACIT,KAAKU,kBAAeC,EACpBX,KAAKH,YAAYY,MAAMT,KAAKC,SAAUD,KAAKE,SAAUF,KAAKG,YAAYS,UAAUC,IAC5E,OAAQA,EAAOC,YACX,IAAK,cACD,MAAMC,EAAWf,KAAKgB,mBACtBhB,KAAKF,OAAOmB,cAAcF,GAAsB,KAChD,MACJ,IAAK,0BACL,IAAK,0BACDf,KAAKU,aAAeG,EAAOK,QAEnC,EAER,CACAV,YACIR,KAAKD,WACAoB,IAAI,kCACJC,YACAC,KAAKC,IACNtB,KAAKuB,YAAYD,EAAG,EAE5B,CACAC,YAAYD,GACR,MAAME,EAAOF,EAAIE,KACXC,EAAWH,EAAIG,SACrBzB,KAAKnB,SAAWyC,EAAII,KAAKC,QAAU,sDACnC3B,KAAK1B,aAAekD,EAAKI,KACzB5B,KAAKtB,cAAgB+C,EAASG,KAC9B5B,KAAK3B,gBAAkBmD,EAAKK,MAAMC,KAAO,sDACzC9B,KAAKzB,iBAAmB+C,EAAIO,MAAMC,IACtC,CAKAd,mBACI,IAAIe,EACJ,MAAMC,EAAK,IAAIC,OAAQ,GAAEC,cACzB,IACI,MAAMC,EAAkBC,OAAOX,SAASY,OAAOC,MAAMN,GACjDG,GAAmB,EAAIA,EAAgBI,SACvCR,EAAaS,KAAKC,mBAAmBN,EAAgB,KAE7D,OAEI,CAEJ,OAAOJ,CACX,CAACW,SACQ1C,KAAK2C,UAAI,SAAAC,GAAA,WAAAA,GAAwFjD,GAAVxB,MAA0C0E,OAA1C1E,MAAqE2E,MAArE3E,MAA6F4E,MAAa,EAA4CL,SAC7O1C,KAAKgD,UADkF7E,MAAE,CAAA8E,KACJtD,EAAcuD,UAAA,gBAAAC,MAAA,GAAAC,KAAA,GAAAC,OAAA,+gCAAAC,SAAA,SAAArF,EAAAC,GAAA,EAAAD,IADZE,MAAE,UAAFA,CAC2F,UAD3FA,CAC2F,UAD3FA,CAC2F,UAD3FA,CAC2F,WAD3FA,MAAE,GAAFA,MAAE,eAAFA,cAAE,WAAFA,MAAE,EAAAH,EAAA,WAAFG,MAAE,EAAAK,EAAA,WAAFL,gBAAE,GAAAQ,EAAA,aAAFR,cAAE,WAAFA,CACghC,WADhhCA,MAAE,IAAFA,MAAE,gBAAFA,cAAE,aAAFA,CACuuC,YADvuCA,CACuuC,eADvuCA,MAAE,yBAAAoF,GAAA,OAAArF,EAAA+B,SAAAsD,CAAA,GAAFpF,MAAE,gBAAFA,cAAE,eAAFA,MAAE,yBAAAoF,GAAA,OAAArF,EAAAgC,SAAAqD,CAAA,GAAFpF,MAAE,gBAAFA,cAAE,kBAAFA,CACywE,oBADzwEA,CACywE,cADzwEA,MAAE,IAAFA,kBAAE,0BAAFA,CAC4kF,eAD5kFA,MAAE,yBAAAoF,GAAA,OAAArF,EAAAiC,WAAAoD,CAAA,GAAFpF,cAAE,YAAFA,MAAE,IAAFA,MAAE,gBAAFA,gBAAE,SAAFA,CACmiG,gBADniGA,MAAE,0BACkuGD,EAAAuC,OAAO,GAD3uGtC,MAAE,IAAFA,MAAE,gBAAFA,kBAAE,aAAFA,MAAE,GAAAY,EAAA,eAAFZ,MAAE,GAAAiB,EAAA,eAAFjB,MAAE,GAAAkB,EAAA,eAAFlB,kBAAE,GAAAqB,EAAA,cAAFrB,WAC6hI,EAAAF,IAD7hIE,MAAE,GAAFA,MAAE,IAAFA,MAAE,sCAAFA,MAAE,GAAFA,MAAE,OAAAD,EAAAI,cAAFH,MAAE,GAAFA,MAAE,OAAAD,EAAAQ,eAAFP,MAAE,GAAFA,MAAE,OAAAD,EAAAW,UAAFV,MAAE,GAAFA,MAAE,IAAFA,MAAE,2BAAFA,MAAE,GAAAsB,EAAAvB,EAAAgB,oBAAAhB,EAAAe,MAAA,iBAAFd,MAAE,GAAFA,MAAE,UAAAD,EAAA+B,SAAF9B,CAC6hD,cAD7hDA,MAAE,0BAAFA,MAAE,GAAFA,MAAE,UAAAD,EAAAgC,SAAF/B,CAC64D,cAD74DA,MAAE,0BAAFA,MAAE,GAAFA,MAAE,UAAAD,EAAAwC,cAAFvC,MAAE,wBAAFA,CAC2kE,uBAD3kEA,MAAE,GAAFA,MAAE,IAAAD,EAAAwC,aAAA,KAAFvC,MAAE,GAAFA,MAAE,UAAAD,EAAAiC,YAAFhC,MAAE,GAAFA,YAAE,6BAAFA,MAAE,GAAFA,MAAE,YAAAD,EAAA+B,WAAA/B,EAAAgC,UAAF/B,MAAE,GAAFA,MAAE,IAAFA,MAAE,2BAAFA,MAAE,GAAFA,MAAE,OAAAD,EAAAe,OAAFd,MAAE,GAAFA,MAAE,QAAAD,EAAAgB,qBAAFf,MAAE,GAAFA,MAAE,QAAAD,EAAAiB,aAAFhB,MAAE,GAAFA,MAAE,QAAAD,EAAAgB,qBACwgI,EAAAsE,aAAA,CAAuzHC,MAAwPA,MAA0EA,MAAuEA,MAA8EA,MAAoFA,MAAyGC,KAAoGC,KAAyGA,KAAgRA,KAAiLA,KAAwGA,KAA4JA,KAAwNA,IAAoLd,MAA2Fe,MAAgBC,OAAA,03KAUl8T,MAAMC,EACFlE,YAAYE,EAAQD,GAChBG,KAAKF,OAASA,EACdE,KAAKH,YAAcA,CACvB,CACAkE,YAAYC,GACR,OAAOhE,KAAKH,YAAYoE,2BAA2BC,QAAKC,KAAIC,IACpDA,GACApE,KAAKF,OAAOuE,SAAS,CAAC,OAElBD,IAEhB,CAAC1B,SACQ1C,KAAK2C,UAAI,SAAAC,GAAA,WAAAA,GAAwFkB,GAxBV3F,MAwBsC2E,MAxBtC3E,MAwB8D0E,OAAc,EAA6CH,SAChN1C,KAAKsE,WAzBkFnG,MAAE,CAAAoG,MAyBYT,EAAUU,QAAVV,EAAUnB,UAAA8B,WAAc,SAS1I,MAAMC,EAAc,CAChB,CACIC,KAAM,GACNC,UAAWjF,EACXkF,UAAW,OACXd,YAAa,CAACD,KAItB,MAAMgB,EAAYpC,SACL1C,KAAK2C,UAAI,SAAAC,GAAA,WAAAA,GAAwFkC,EAAW,EAAkDpC,SAC9J1C,KAAK+E,UA7CkF5G,MAAE,CAAA8E,KA6CS6B,IAA0FpC,SAC5L1C,KAAKgF,UA9CkF7G,MAAE,CAAA8G,QAAA,CA8CgCC,MAAcC,KAAaC,SAASV","names":["LoginComponent_p_8_Template","rf","ctx","i0","ctx_r0","imageCreatorUrl","imageCreator","imageUnsplashUrl","LoginComponent_p_9_Template","ctx_r1","imageLocation","LoginComponent_img_10_Template","ctx_r2","imageUrl","LoginComponent_span_35_span_2_Template","LoginComponent_span_35_Template","ctx_r3","brand","hideVendureBranding","hideVersion","LoginComponent_span_36_Template","LoginComponent_span_37_Template","ctx_r5","version","LoginComponent_img_38_Template","_c0","a0","LoginComponent","constructor","authService","router","httpClient","this","username","password","rememberMe","ADMIN_UI_VERSION","getAppConfig","customImageUrl","loginImageUrl","loadImage","logIn","errorMessage","undefined","subscribe","result","__typename","redirect","getRedirectRoute","navigateByUrl","message","get","toPromise","then","res","updateImage","user","location","urls","regular","name","links","html","redirectTo","re","RegExp","AUTH_REDIRECT_PARAM","redirectToParam","window","search","match","length","atob","decodeURIComponent","static","ɵfac","t","i1","i1$1","i3","ɵcmp","type","selectors","decls","vars","consts","template","$event","dependencies","i4","i5","i6","i7","styles","LoginGuard","canActivate","route","checkAuthenticatedStatus","pipe","map","authenticated","navigate","ɵprov","token","factory","providedIn","loginRoutes","path","component","pathMatch","LoginModule","ɵmod","ɵinj","imports","SharedModule","RouterModule","forChild"],"sourceRoot":"webpack:///","sources":["../node_modules/@vendure/admin-ui/fesm2022/vendure-admin-ui-login.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Component, Injectable, NgModule } from '@angular/core';\nimport * as i1 from '@vendure/admin-ui/core';\nimport { ADMIN_UI_VERSION, getAppConfig, AUTH_REDIRECT_PARAM, SharedModule } from '@vendure/admin-ui/core';\nimport * as i1$1 from '@angular/router';\nimport { RouterModule } from '@angular/router';\nimport * as i3 from '@angular/common/http';\nimport * as i4 from '@clr/angular';\nimport * as i5 from '@angular/common';\nimport * as i6 from '@angular/forms';\nimport * as i7 from '@ngx-translate/core';\nimport { map } from 'rxjs/operators';\n\nclass LoginComponent {\r\n    constructor(authService, router, httpClient) {\r\n        this.authService = authService;\r\n        this.router = router;\r\n        this.httpClient = httpClient;\r\n        this.username = '';\r\n        this.password = '';\r\n        this.rememberMe = false;\r\n        this.version = ADMIN_UI_VERSION;\r\n        this.brand = getAppConfig().brand;\r\n        this.hideVendureBranding = getAppConfig().hideVendureBranding;\r\n        this.hideVersion = getAppConfig().hideVersion;\r\n        this.customImageUrl = getAppConfig().loginImageUrl;\r\n        this.imageUrl = '';\r\n        this.imageUnsplashUrl = '';\r\n        this.imageLocation = '';\r\n        this.imageCreator = '';\r\n        this.imageCreatorUrl = '';\r\n        if (this.customImageUrl) {\r\n            this.imageUrl = this.customImageUrl;\r\n        }\r\n        else {\r\n            this.loadImage();\r\n        }\r\n    }\r\n    logIn() {\r\n        this.errorMessage = undefined;\r\n        this.authService.logIn(this.username, this.password, this.rememberMe).subscribe(result => {\r\n            switch (result.__typename) {\r\n                case 'CurrentUser':\r\n                    const redirect = this.getRedirectRoute();\r\n                    this.router.navigateByUrl(redirect ? redirect : '/');\r\n                    break;\r\n                case 'InvalidCredentialsError':\r\n                case 'NativeAuthStrategyError':\r\n                    this.errorMessage = result.message;\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n    loadImage() {\r\n        this.httpClient\r\n            .get('https://login-image.vendure.io')\r\n            .toPromise()\r\n            .then(res => {\r\n            this.updateImage(res);\r\n        });\r\n    }\r\n    updateImage(res) {\r\n        const user = res.user;\r\n        const location = res.location;\r\n        this.imageUrl = res.urls.regular + '?utm_source=Vendure+Login+Image&utm_medium=referral';\r\n        this.imageCreator = user.name;\r\n        this.imageLocation = location.name;\r\n        this.imageCreatorUrl = user.links.html + '?utm_source=Vendure+Login+Image&utm_medium=referral';\r\n        this.imageUnsplashUrl = res.links.html;\r\n    }\r\n    /**\r\n     * Attempts to read a redirect param from the current url and parse it into a\r\n     * route from which the user was redirected after a 401 error.\r\n     */\r\n    getRedirectRoute() {\r\n        let redirectTo;\r\n        const re = new RegExp(`${AUTH_REDIRECT_PARAM}=(.*)`);\r\n        try {\r\n            const redirectToParam = window.location.search.match(re);\r\n            if (redirectToParam && 1 < redirectToParam.length) {\r\n                redirectTo = atob(decodeURIComponent(redirectToParam[1]));\r\n            }\r\n        }\r\n        catch (e) {\r\n            // ignore\r\n        }\r\n        return redirectTo;\r\n    }\r\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.2\", ngImport: i0, type: LoginComponent, deps: [{ token: i1.AuthService }, { token: i1$1.Router }, { token: i3.HttpClient }], target: i0.ɵɵFactoryTarget.Component }); }\r\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.2\", type: LoginComponent, selector: \"vdr-login\", ngImport: i0, template: \"<div class=\\\"login-wrapper\\\">\\r\\n    <div class=\\\"login-wrapper-inner\\\">\\r\\n        <div class=\\\"login-wrapper-image\\\">\\r\\n            <div class=\\\"login-wrapper-image-content\\\">\\r\\n                <div class=\\\"login-wrapper-image-title\\\">\\r\\n                    {{ 'common.login-image-title' | translate }}\\r\\n                </div>\\r\\n                <div class=\\\"login-wrapper-image-copyright\\\">\\r\\n                    <p *ngIf=\\\"imageCreator\\\" class=\\\"creator\\\">\\r\\n                        Photo by <a [href]=\\\"imageCreatorUrl\\\" target=\\\"_blank\\\">{{ imageCreator }}</a> on\\r\\n                        <a [href]=\\\"imageUnsplashUrl\\\" target=\\\"_blank\\\">Unsplash</a>\\r\\n                    </p>\\r\\n                    <p *ngIf=\\\"imageLocation\\\" class=\\\"location\\\">{{ imageLocation }}</p>\\r\\n                </div>\\r\\n            </div>\\r\\n            <img *ngIf=\\\"imageUrl\\\" [src]=\\\"imageUrl\\\" [alt]=\\\"imageUrl\\\" />\\r\\n        </div>\\r\\n        <div class=\\\"login-wrapper-form\\\">\\r\\n            <p class=\\\"login-title\\\">\\r\\n                {{ 'common.login-title' | translate : { brand: hideVendureBranding ? brand : 'Vendure' } }}\\r\\n            </p>\\r\\n            <form class=\\\"login-form\\\">\\r\\n                <div class=\\\"login-group\\\">\\r\\n                    <input\\r\\n                        class=\\\"username\\\"\\r\\n                        type=\\\"text\\\"\\r\\n                        name=\\\"username\\\"\\r\\n                        id=\\\"login_username\\\"\\r\\n                        [(ngModel)]=\\\"username\\\"\\r\\n                        [placeholder]=\\\"'common.username' | translate\\\"\\r\\n                    />\\r\\n                    <input\\r\\n                        class=\\\"password\\\"\\r\\n                        name=\\\"password\\\"\\r\\n                        type=\\\"password\\\"\\r\\n                        id=\\\"login_password\\\"\\r\\n                        [(ngModel)]=\\\"password\\\"\\r\\n                        [placeholder]=\\\"'common.password' | translate\\\"\\r\\n                    />\\r\\n                    <clr-alert\\r\\n                        [clrAlertType]=\\\"'danger'\\\"\\r\\n                        [clrAlertClosable]=\\\"false\\\"\\r\\n                        [class.visible]=\\\"errorMessage\\\"\\r\\n                        class=\\\"login-error\\\"\\r\\n                    >\\r\\n                        <clr-alert-item>\\r\\n                            <span class=\\\"alert-text\\\">\\r\\n                                {{ errorMessage }}\\r\\n                            </span>\\r\\n                        </clr-alert-item>\\r\\n                    </clr-alert>\\r\\n                    <clr-checkbox-wrapper>\\r\\n                        <input\\r\\n                            type=\\\"checkbox\\\"\\r\\n                            clrCheckbox\\r\\n                            id=\\\"rememberme\\\"\\r\\n                            name=\\\"rememberme\\\"\\r\\n                            [(ngModel)]=\\\"rememberMe\\\"\\r\\n                        />\\r\\n                        <label>{{ 'common.remember-me' | translate }}</label>\\r\\n                    </clr-checkbox-wrapper>\\r\\n                    <div>\\r\\n                        <button\\r\\n                            type=\\\"submit\\\"\\r\\n                            class=\\\"button primary login-button\\\"\\r\\n                            (click)=\\\"logIn()\\\"\\r\\n                            [disabled]=\\\"!username || !password\\\"\\r\\n                        >\\r\\n                            {{ 'common.login' | translate }}\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"version\\\">\\r\\n                    <span *ngIf=\\\"brand\\\"\\r\\n                        >{{ brand }} <span *ngIf=\\\"!hideVendureBranding || !hideVersion\\\">-</span></span\\r\\n                    >\\r\\n                    <span *ngIf=\\\"!hideVendureBranding\\\">vendure</span>\\r\\n                    <span *ngIf=\\\"!hideVersion\\\">v{{ version }}</span>\\r\\n                </div>\\r\\n            </form>\\r\\n        </div>\\r\\n        <img class=\\\"login-wrapper-logo\\\" src=\\\"assets/logo-login.webp\\\" *ngIf=\\\"!hideVendureBranding\\\" />\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\".login-wrapper{background:var(--color-login-page-bg);background-image:none;height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}.login-wrapper .login-wrapper-inner{background:#fff;width:1120px;height:590px;display:flex;justify-content:flex-start;align-items:stretch;position:relative;border-radius:var(--border-radius);border:1px solid var(--color-weight-150);overflow:hidden}@media (max-width: 992px){.login-wrapper .login-wrapper-inner{flex-direction:column;height:auto;width:100%}}.login-wrapper .login-wrapper-inner .login-wrapper-image{height:100%;flex-grow:1;position:relative}@media (max-width: 992px){.login-wrapper .login-wrapper-inner .login-wrapper-image{height:300px}}.login-wrapper .login-wrapper-inner .login-wrapper-image img{display:block;width:100%;height:100%;object-fit:cover;object-position:center;position:relative;z-index:1}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content{width:100%;height:100%;position:absolute;left:0;bottom:0;z-index:10;background:rgb(2,0,36);background:linear-gradient(180deg,rgba(2,0,36,0) 0%,rgba(0,0,0,.75) 100%);display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;padding:30px}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-title{font-size:1.6rem;font-weight:700;color:#fff;margin-bottom:20px}@media (max-width: 992px){.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-title{font-size:1.2rem}}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-copyright{opacity:.8}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-copyright p{font-size:.6rem;color:#fff;margin:0!important}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-copyright a{color:#fff;text-decoration:underline}.login-wrapper .login-wrapper-inner .login-wrapper-form{height:100%;width:400px;padding:40px;display:flex;flex-direction:column;align-items:stretch;justify-content:center;box-shadow:0 20px 25px #0000001a;overflow:hidden;border-radius:5px;flex-shrink:0}@media (max-width: 992px){.login-wrapper .login-wrapper-inner .login-wrapper-form{height:auto;width:100%;padding:20px}}.login-wrapper .login-wrapper-inner .login-wrapper-form .login-title{font-weight:700;font-size:1.2rem;margin-bottom:20px;color:var(--color-weight-600)}.login-wrapper .login-wrapper-inner .login-wrapper-form .login-group input.username,.login-wrapper .login-wrapper-inner .login-wrapper-form .login-group input.password{display:block;width:100%;margin-bottom:15px;padding:12px 16px!important;background:#fff;font-size:14px;line-height:22px;color:#52667a;outline:none;-webkit-appearance:none}.login-wrapper .login-wrapper-inner .login-wrapper-form .login-group .btn{width:100%!important;margin-top:20px!important}.login-wrapper .login-wrapper-inner .login-wrapper-logo{width:60px;height:auto;position:absolute;right:20px;top:20px}.login-button{width:100%;margin-top:var(--space-unit);justify-content:center}.version{flex:1;flex-grow:1;display:flex;align-items:flex-end;justify-content:center;color:var(--color-grey-300)}.version span+span{margin-inline-start:5px}.login-error{max-height:0;overflow:hidden}.login-error.visible{max-height:46px;transition:max-height .2s;animation:shake .82s cubic-bezier(.36,.07,.19,.97) both;animation-delay:.2s;transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}\\n\"], dependencies: [{ kind: \"component\", type: i4.ClrAlert, selector: \"clr-alert\", inputs: [\"clrAlertSizeSmall\", \"clrAlertClosable\", \"clrAlertAppLevel\", \"clrCloseButtonAriaLabel\", \"clrAlertType\", \"clrAlertIcon\", \"clrAlertClosed\"], outputs: [\"clrAlertClosedChange\"] }, { kind: \"component\", type: i4.ClrAlertItem, selector: \"clr-alert-item\" }, { kind: \"directive\", type: i4.ClrAlertText, selector: \".alert-text\" }, { kind: \"directive\", type: i4.ClrLabel, selector: \"label\", inputs: [\"for\"] }, { kind: \"directive\", type: i4.ClrCheckbox, selector: \"[clrCheckbox],[clrToggle]\" }, { kind: \"component\", type: i4.ClrCheckboxWrapper, selector: \"clr-checkbox-wrapper,clr-toggle-wrapper\" }, { kind: \"directive\", type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i6.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { kind: \"directive\", type: i6.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i6.CheckboxControlValueAccessor, selector: \"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]\" }, { kind: \"directive\", type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i6.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i6.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"directive\", type: i6.NgForm, selector: \"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]\", inputs: [\"ngFormOptions\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select\" }, { kind: \"pipe\", type: i7.TranslatePipe, name: \"translate\" }] }); }\r\n}\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.2\", ngImport: i0, type: LoginComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'vdr-login', template: \"<div class=\\\"login-wrapper\\\">\\r\\n    <div class=\\\"login-wrapper-inner\\\">\\r\\n        <div class=\\\"login-wrapper-image\\\">\\r\\n            <div class=\\\"login-wrapper-image-content\\\">\\r\\n                <div class=\\\"login-wrapper-image-title\\\">\\r\\n                    {{ 'common.login-image-title' | translate }}\\r\\n                </div>\\r\\n                <div class=\\\"login-wrapper-image-copyright\\\">\\r\\n                    <p *ngIf=\\\"imageCreator\\\" class=\\\"creator\\\">\\r\\n                        Photo by <a [href]=\\\"imageCreatorUrl\\\" target=\\\"_blank\\\">{{ imageCreator }}</a> on\\r\\n                        <a [href]=\\\"imageUnsplashUrl\\\" target=\\\"_blank\\\">Unsplash</a>\\r\\n                    </p>\\r\\n                    <p *ngIf=\\\"imageLocation\\\" class=\\\"location\\\">{{ imageLocation }}</p>\\r\\n                </div>\\r\\n            </div>\\r\\n            <img *ngIf=\\\"imageUrl\\\" [src]=\\\"imageUrl\\\" [alt]=\\\"imageUrl\\\" />\\r\\n        </div>\\r\\n        <div class=\\\"login-wrapper-form\\\">\\r\\n            <p class=\\\"login-title\\\">\\r\\n                {{ 'common.login-title' | translate : { brand: hideVendureBranding ? brand : 'Vendure' } }}\\r\\n            </p>\\r\\n            <form class=\\\"login-form\\\">\\r\\n                <div class=\\\"login-group\\\">\\r\\n                    <input\\r\\n                        class=\\\"username\\\"\\r\\n                        type=\\\"text\\\"\\r\\n                        name=\\\"username\\\"\\r\\n                        id=\\\"login_username\\\"\\r\\n                        [(ngModel)]=\\\"username\\\"\\r\\n                        [placeholder]=\\\"'common.username' | translate\\\"\\r\\n                    />\\r\\n                    <input\\r\\n                        class=\\\"password\\\"\\r\\n                        name=\\\"password\\\"\\r\\n                        type=\\\"password\\\"\\r\\n                        id=\\\"login_password\\\"\\r\\n                        [(ngModel)]=\\\"password\\\"\\r\\n                        [placeholder]=\\\"'common.password' | translate\\\"\\r\\n                    />\\r\\n                    <clr-alert\\r\\n                        [clrAlertType]=\\\"'danger'\\\"\\r\\n                        [clrAlertClosable]=\\\"false\\\"\\r\\n                        [class.visible]=\\\"errorMessage\\\"\\r\\n                        class=\\\"login-error\\\"\\r\\n                    >\\r\\n                        <clr-alert-item>\\r\\n                            <span class=\\\"alert-text\\\">\\r\\n                                {{ errorMessage }}\\r\\n                            </span>\\r\\n                        </clr-alert-item>\\r\\n                    </clr-alert>\\r\\n                    <clr-checkbox-wrapper>\\r\\n                        <input\\r\\n                            type=\\\"checkbox\\\"\\r\\n                            clrCheckbox\\r\\n                            id=\\\"rememberme\\\"\\r\\n                            name=\\\"rememberme\\\"\\r\\n                            [(ngModel)]=\\\"rememberMe\\\"\\r\\n                        />\\r\\n                        <label>{{ 'common.remember-me' | translate }}</label>\\r\\n                    </clr-checkbox-wrapper>\\r\\n                    <div>\\r\\n                        <button\\r\\n                            type=\\\"submit\\\"\\r\\n                            class=\\\"button primary login-button\\\"\\r\\n                            (click)=\\\"logIn()\\\"\\r\\n                            [disabled]=\\\"!username || !password\\\"\\r\\n                        >\\r\\n                            {{ 'common.login' | translate }}\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"version\\\">\\r\\n                    <span *ngIf=\\\"brand\\\"\\r\\n                        >{{ brand }} <span *ngIf=\\\"!hideVendureBranding || !hideVersion\\\">-</span></span\\r\\n                    >\\r\\n                    <span *ngIf=\\\"!hideVendureBranding\\\">vendure</span>\\r\\n                    <span *ngIf=\\\"!hideVersion\\\">v{{ version }}</span>\\r\\n                </div>\\r\\n            </form>\\r\\n        </div>\\r\\n        <img class=\\\"login-wrapper-logo\\\" src=\\\"assets/logo-login.webp\\\" *ngIf=\\\"!hideVendureBranding\\\" />\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\".login-wrapper{background:var(--color-login-page-bg);background-image:none;height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}.login-wrapper .login-wrapper-inner{background:#fff;width:1120px;height:590px;display:flex;justify-content:flex-start;align-items:stretch;position:relative;border-radius:var(--border-radius);border:1px solid var(--color-weight-150);overflow:hidden}@media (max-width: 992px){.login-wrapper .login-wrapper-inner{flex-direction:column;height:auto;width:100%}}.login-wrapper .login-wrapper-inner .login-wrapper-image{height:100%;flex-grow:1;position:relative}@media (max-width: 992px){.login-wrapper .login-wrapper-inner .login-wrapper-image{height:300px}}.login-wrapper .login-wrapper-inner .login-wrapper-image img{display:block;width:100%;height:100%;object-fit:cover;object-position:center;position:relative;z-index:1}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content{width:100%;height:100%;position:absolute;left:0;bottom:0;z-index:10;background:rgb(2,0,36);background:linear-gradient(180deg,rgba(2,0,36,0) 0%,rgba(0,0,0,.75) 100%);display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;padding:30px}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-title{font-size:1.6rem;font-weight:700;color:#fff;margin-bottom:20px}@media (max-width: 992px){.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-title{font-size:1.2rem}}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-copyright{opacity:.8}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-copyright p{font-size:.6rem;color:#fff;margin:0!important}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-copyright a{color:#fff;text-decoration:underline}.login-wrapper .login-wrapper-inner .login-wrapper-form{height:100%;width:400px;padding:40px;display:flex;flex-direction:column;align-items:stretch;justify-content:center;box-shadow:0 20px 25px #0000001a;overflow:hidden;border-radius:5px;flex-shrink:0}@media (max-width: 992px){.login-wrapper .login-wrapper-inner .login-wrapper-form{height:auto;width:100%;padding:20px}}.login-wrapper .login-wrapper-inner .login-wrapper-form .login-title{font-weight:700;font-size:1.2rem;margin-bottom:20px;color:var(--color-weight-600)}.login-wrapper .login-wrapper-inner .login-wrapper-form .login-group input.username,.login-wrapper .login-wrapper-inner .login-wrapper-form .login-group input.password{display:block;width:100%;margin-bottom:15px;padding:12px 16px!important;background:#fff;font-size:14px;line-height:22px;color:#52667a;outline:none;-webkit-appearance:none}.login-wrapper .login-wrapper-inner .login-wrapper-form .login-group .btn{width:100%!important;margin-top:20px!important}.login-wrapper .login-wrapper-inner .login-wrapper-logo{width:60px;height:auto;position:absolute;right:20px;top:20px}.login-button{width:100%;margin-top:var(--space-unit);justify-content:center}.version{flex:1;flex-grow:1;display:flex;align-items:flex-end;justify-content:center;color:var(--color-grey-300)}.version span+span{margin-inline-start:5px}.login-error{max-height:0;overflow:hidden}.login-error.visible{max-height:46px;transition:max-height .2s;animation:shake .82s cubic-bezier(.36,.07,.19,.97) both;animation-delay:.2s;transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1.AuthService }, { type: i1$1.Router }, { type: i3.HttpClient }]; } });\n\n/**\r\n * This guard prevents loggen-in users from navigating to the login screen.\r\n */\r\nclass LoginGuard {\r\n    constructor(router, authService) {\r\n        this.router = router;\r\n        this.authService = authService;\r\n    }\r\n    canActivate(route) {\r\n        return this.authService.checkAuthenticatedStatus().pipe(map(authenticated => {\r\n            if (authenticated) {\r\n                this.router.navigate(['/']);\r\n            }\r\n            return !authenticated;\r\n        }));\r\n    }\r\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.2\", ngImport: i0, type: LoginGuard, deps: [{ token: i1$1.Router }, { token: i1.AuthService }], target: i0.ɵɵFactoryTarget.Injectable }); }\r\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.2.2\", ngImport: i0, type: LoginGuard, providedIn: 'root' }); }\r\n}\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.2\", ngImport: i0, type: LoginGuard, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root',\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Router }, { type: i1.AuthService }]; } });\n\nconst loginRoutes = [\r\n    {\r\n        path: '',\r\n        component: LoginComponent,\r\n        pathMatch: 'full',\r\n        canActivate: [LoginGuard],\r\n    },\r\n];\n\nclass LoginModule {\r\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.2\", ngImport: i0, type: LoginModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule }); }\r\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.2.2\", ngImport: i0, type: LoginModule, declarations: [LoginComponent], imports: [SharedModule, i1$1.RouterModule] }); }\r\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.2.2\", ngImport: i0, type: LoginModule, imports: [SharedModule, RouterModule.forChild(loginRoutes)] }); }\r\n}\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.2\", ngImport: i0, type: LoginModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [SharedModule, RouterModule.forChild(loginRoutes)],\r\n                    exports: [],\r\n                    declarations: [LoginComponent],\r\n                }]\r\n        }] });\n\n// This file was generated by the build-public-api.ts script\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { LoginComponent, LoginGuard, LoginModule, loginRoutes };\n"],"x_google_ignoreList":[0]}